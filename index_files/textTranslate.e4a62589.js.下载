(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["textTranslate"],{"0887":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAYAAADUFP50AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABZSURBVHgBrdLRCQAgCARQaZL2X8pRLoQCMUWxgn7qXlhJ9DIA8J6zkJ2S1RAZPkiC10KEbSbc0Dg92AtUqolwjgLsokG/RqvU1uO0vgNoNkDpHuS3HGfI4gUgQXlWIt0TKAAAAABJRU5ErkJggg=="},"0b2d":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF2SURBVHgBvVTRUcJAEN29MJpPSkgHkFGU+0sHWoJWgCVgB1CB2IEdkL8EwUEqIHSAP0xQybp7N2HiwIiGjC+T3N7O3bu3t7sBqBiYG1E0DhCxw2Ydfo+ndvu8X3QoS/ZygwqHTB8QEvLYlFfsnx5e04ufJw87x8TxZBiPJvPiPBqNQzgAjqrL+2g6nda/KRQQ0AL+jlA+afrZ3CEsA9etvRoxBNUQ+r6/ZLKFUtiohNCAOGxOZmWERCRhe3lijiZ0HExkXK0+vAIhvXFRNaAEsgytMmXHmqEj6CHClalFgsQUNsAs3yThrNebLpu7hyLJ2kTrVrhVKBPK8FZqUTqAyRNRnN9LmmbXfEhnb7cQPJ6eOH7OX8sNrc8GPAy2it43cy7YO56yssyTtteXrQAOYG9STH1l1Of+7liVKhF/FEUelCEUcBf0wIQrKlVovU4AZQmLKl0XltaLHpQlLKqU+7QeSuAYQlHJf2DJ/ozfe60vBvDf+AJpZrVCMzeOAAAAAABJRU5ErkJggg=="},"0cb2":function(e,t,o){"use strict";var a=o("e330"),n=o("7b0b"),i=Math.floor,s=a("".charAt),r=a("".replace),c=a("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,d=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,o,a,u,m){var h=o+e.length,g=a.length,p=d;return void 0!==u&&(u=n(u),p=l),r(m,p,(function(n,r){var l;switch(s(r,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,o);case"'":return c(t,h);case"<":l=u[c(r,1,-1)];break;default:var d=+r;if(0===d)return n;if(d>g){var m=i(d/10);return 0===m?n:m<=g?void 0===a[m-1]?s(r,1):a[m-1]+s(r,1):n}l=a[d-1]}return void 0===l?"":l}))}},"106d":function(e,t){window.Clipboard=function(e,t,o){var a,n;function i(){return o.userAgent.match(/ipad|iphone/i)}function s(e){a=t.createElement("textArea"),a.value=e,t.body.appendChild(a)}function r(){var o,n;i()?(o=t.createRange(),o.selectNodeContents(a),n=e.getSelection(),n.removeAllRanges(),n.addRange(o),a.setSelectionRange(0,999999)):a.select()}function c(e){try{t.execCommand("Copy")?e?e(!0):alert("复制成功"):e?e(!1):alert("复制失败，请手动复制。")}catch(o){e?e(!1):alert("复制失败，请手动复制。")}t.body.removeChild(a)}return n=function(e,t){s(e),r(),c(t)},{copy:n}}(window,document,navigator)},2189:function(e,t,o){e.exports=o.p+"img/fanyi.30edae0a.png"},2811:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFrSURBVHgBtZPdUYNAFIXPTeI7HYgVqB3gmzpmTAdJB5IOkgZ07SBWoBN/xjdiB+lA7CDO5MkfrmdhiZgHmEA8DHMXuHx79u5dYMuSqoSTUHttoM/E+N7IsBHwOFR/R/BqYQr4iWL4aMSU/dMq+9gBRmmS4sjN7qFCrTJ3IuiTMvn4Bc1RF5i7aycYM8m344RLRx1g0d2dkZivDuz7JyOVDjv54CzUgOGCt0eYn7uzkbVbuJxoHWA37BMYP2cTZw5PQx0QErUEAaPY4qvixbkD22bCXb5Jv63dvAbshKgwAdAdasSBP72SvfyZQHkwEqBCdN0j+PZbcWhLsqohe+wN9bRwS/VcbCZxG7Z0LdUYSAWEzmdGUqcdNJQKdhlW5WrksBeqZ5fM+s+2Avxy9ZPCkcyAindu/T42FEHnNi4LwLQP7SmRrDlj9l/McTozx/MSWrpc5lyzX8M/QKsuT4vtemziUDCbXsoI/6kffLtxowN+KfMAAAAASUVORK5CYII="},"2be1":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF3SURBVHgBtVTdUcJAEP7uwBl4SwemA8MoQuAFK9AOpAOlA+xAO8BKwAcmRGCSDogd4Buj5ta9y/A7CpLELzO5y93ut9/t7gXIGeKQge9PbohwCyGieu28k4nQ8wJbyHjGZhFAtoqp02hUH/f5SOzdjbt6IPVxZaILWDgAuVcd+KiEXqFQMEREIkRawpU6+nwgknYyVxHSEG6qc103Uoocvd5sXh5UWFyTjFtCiDueWhCxvVSXjJjr6o1Gk/4PHJG204FXCj1v2hZS9LnmLRKkfS0CvSyNyuVij4Bnvbf7sA/7nmwH0pFH/mS2+e354wH+AN2n7EvD4auzUmiOBXpDCnB+54ZICmuLMC04v0ZZqVQMcyGUEi0ewkqlkihFRnAxTxWt05WJMAgCyxxZYZAL4WLxZfLHdzzcIaR3bqgzHAkp5bUelwUx5PplbolubO567p+IV50kDn69avrPw83usM1TvX5xv0WYkE7bkKqN4zBwa9Uu/hPfpiGkfniH4pMAAAAASUVORK5CYII="},"396c":function(e,t,o){},"3bde":function(e,t,o){"use strict";o("911d")},"44e7":function(e,t,o){"use strict";var a=o("861d"),n=o("c6b6"),i=o("b622"),s=i("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[s])?!!t:"RegExp"===n(e))}},"4ce9":function(e,t,o){},5621:function(e,t,o){"use strict";o("ecb2")},"580e":function(e,t,o){e.exports=o.p+"img/AI_loading.3237e643.png"},"5b81":function(e,t,o){"use strict";var a=o("23e7"),n=o("c65b"),i=o("e330"),s=o("1d80"),r=o("1626"),c=o("7234"),l=o("44e7"),d=o("577e"),u=o("dc4a"),m=o("90d8"),h=o("0cb2"),g=o("b622"),p=o("c430"),b=g("replace"),f=TypeError,j=i("".indexOf),O=i("".replace),k=i("".slice),y=Math.max,v=function(e,t,o){return o>e.length?-1:""===t?o:j(e,t,o)};a({target:"String",proto:!0},{replaceAll:function(e,t){var o,a,i,g,w,A,T,_,S,C=s(this),E=0,x=0,N="";if(!c(e)){if(o=l(e),o&&(a=d(s(m(e))),!~j(a,"g")))throw new f("`.replaceAll` does not allow non-global regexes");if(i=u(e,b),i)return n(i,e,C,t);if(p&&o)return O(d(C),e,t)}g=d(C),w=d(e),A=r(t),A||(t=d(t)),T=w.length,_=y(1,T),E=v(g,w,0);while(-1!==E)S=A?d(t(w,E,g)):h(w,g,E,[],void 0,t),N+=k(g,x,E)+S,x=E+T,E=v(g,w,E+_);return x<g.length&&(N+=k(g,x)),N}})},"5bac":function(e,t,o){"use strict";o.r(t);var a={};o.r(a),o.d(a,"onCompositionStart",(function(){return ca})),o.d(a,"onCompositionEnd",(function(){return la})),o.d(a,"inputChange",(function(){return da})),o.d(a,"_onTransLangChanged",(function(){return ma})),o.d(a,"onChangeTrans",(function(){return ha})),o.d(a,"searchButtonClickHandler",(function(){return ga})),o.d(a,"search",(function(){return Oa})),o.d(a,"updateDictResult",(function(){return ka})),o.d(a,"resetModifiedContent",(function(){return ya})),o.d(a,"onTargetInputChange",(function(){return va})),o.d(a,"genSourceHightLightHtml",(function(){return wa})),o.d(a,"pasteHandler",(function(){return Ta})),o.d(a,"highlightHandler",(function(){return _a})),o.d(a,"removeHightlightHandler",(function(){return Sa})),o.d(a,"removeAllHightlight",(function(){return Ca})),o.d(a,"_removeDomsClassByClassname",(function(){return Ea})),o.d(a,"_addDomsClassByClassname",(function(){return xa})),o.d(a,"insertHighLightHtmlToSource",(function(){return Na})),o.d(a,"getStartOffset",(function(){return Ba})),o.d(a,"setStartOffset",(function(){return Va})),o.d(a,"copy",(function(){return La})),o.d(a,"updateAudio",(function(){return Da})),o.d(a,"genDictvoiceValidLength",(function(){return Ra})),o.d(a,"audioLog",(function(){return Ia})),o.d(a,"showStepTransFun",(function(){return Fa})),o.d(a,"clearButtonClickHandler",(function(){return $a})),o.d(a,"clear",(function(){return za})),o.d(a,"clearTrans",(function(){return Ka})),o.d(a,"resetWithoutSuccessResult",(function(){return Pa})),o.d(a,"showGrammarWnd",(function(){return qa})),o.d(a,"keepLastIndex",(function(){return Qa})),o.d(a,"getStringNum",(function(){return Ya})),o.d(a,"updateZoom",(function(){return Xa})),o.d(a,"updateActionVisiblity",(function(){return Ja})),o.d(a,"scrollAreaListener",(function(){return en})),o.d(a,"containerHeightObserverCallback",(function(){return tn})),o.d(a,"saveTextTranslateToLSHandler",(function(){return on})),o.d(a,"resetTextTranslateFromLS",(function(){return an})),o.d(a,"resetTextTranslateFromUrl",(function(){return nn})),o.d(a,"onContenteditableAreaCopyHandler",(function(){return sn})),o.d(a,"goAiTabFromSource",(function(){return rn})),o.d(a,"goAiTabFromTrans",(function(){return cn})),o.d(a,"ENandZH",(function(){return ln}));var n=o("6562"),i=o("7a23");const s={class:"ce-consision-result"},r={class:"paraphrase-container"},c={class:"item-top"},l={class:"text color_pc_blue_text"},d={class:"tran color_text_1"};function u(e,t,o,a,u,m){const h=n["a"];return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",s,[Object(i["createElementVNode"])("div",r,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(o.data.word.trs,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"paraphrase-item",key:t},[Object(i["createElementVNode"])("div",c,[Object(i["createElementVNode"])("div",l,Object(i["toDisplayString"])(e["#text"]),1),Object(i["createVNode"])(h,{url:"https://dict.youdao.com/dictvoice?audio="+e.voice},null,8,["url"])]),Object(i["createElementVNode"])("div",d,Object(i["toDisplayString"])(e["#tran"]),1)]))),128))])])}var m={name:"Ce",props:{data:{type:Object,required:!0}},components:{VoicePlayer:n["a"]},setup(e,t){}},h=(o("5621"),o("6b0d")),g=o.n(h);const p=g()(m,[["render",u],["__scopeId","data-v-b322f4f6"]]);var b=p;const f={class:"ec-consision-result"},j={class:"paraphrase-container"},O={key:0,class:"pos color_text_3"},k={class:"tran color_text_1"},y={key:0,class:"exam-type color_text_3"},v={class:"anagram-container"},w={class:"phrs-pos-name color_text_3"},A={class:"phrs-text color_text_1"};function T(e,t,o,a,n,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",f,[Object(i["createElementVNode"])("div",j,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(o.data.word.trs,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"paraphrase-item",key:t},[e.pos?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",O,Object(i["toDisplayString"])(e.pos),1)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",k,Object(i["toDisplayString"])(e.tran),1)]))),128))]),o.data.exam_type&&o.data.exam_type.length?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",y,Object(i["toDisplayString"])(o.data.exam_type.join("/")),1)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",v,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(o.data.word.wfs,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"anagram-item",key:t},[Object(i["createElementVNode"])("span",w,Object(i["toDisplayString"])(e.wf.name),1),Object(i["createElementVNode"])("span",A,Object(i["toDisplayString"])(e.wf.value),1)]))),128))])])}var _={name:"Ec",props:{data:{type:Object,required:!0}},setup(e,t){}};o("66e4");const S=g()(_,[["render",T],["__scopeId","data-v-287e6eba"]]);var C=S;const E=e=>(Object(i["pushScopeId"])("data-v-e7cb9a8c"),e=e(),Object(i["popScopeId"])(),e),x={class:"dict-result-english-pronounce"},N={key:0,class:"pron"},B={class:"pron-contianer"},V={key:0,class:"pron-text color_text_2"},L={key:1,class:"pron"},H={class:"pron-contianer"},D=E(()=>Object(i["createElementVNode"])("span",{class:"pron-cn-text color_text_2"},"英",-1)),R={key:0,class:"pron-text color_text_2"},I={key:2,class:"pron"},F={class:"pron-contianer"},U=E(()=>Object(i["createElementVNode"])("span",{class:"pron-cn-text color_text_2"},"美",-1)),M={key:0,class:"pron-text color_text_2"};function $(e,t,o,a,s,r){const c=n["a"];return Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",x,[o.data.speech?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",N,[Object(i["createElementVNode"])("div",B,[o.data.phone?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",V,Object(i["toDisplayString"])(o.data.phone),1)):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(c,{url:"https://dict.youdao.com/dictvoice?audio="+o.data.speech},null,8,["url"])])])):Object(i["createCommentVNode"])("",!0),o.data.ukphone||o.data.ukspeech?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",L,[Object(i["createElementVNode"])("div",H,[D,o.data.ukphone?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",R,Object(i["toDisplayString"])(o.data.ukphone),1)):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(c,{url:"https://dict.youdao.com/dictvoice?audio="+o.data.ukspeech},null,8,["url"])])])):Object(i["createCommentVNode"])("",!0),o.data.usphone||o.data.usspeech?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",I,[Object(i["createElementVNode"])("div",F,[U,o.data.usphone?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",M,Object(i["toDisplayString"])(o.data.usphone),1)):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(c,{url:"https://dict.youdao.com/dictvoice?audio="+o.data.usspeech},null,8,["url"])])])):Object(i["createCommentVNode"])("",!0)])}var z={name:"EnglishPronounce",props:{data:{type:Object,required:!0}},components:{VoicePlayer:n["a"]},setup(e,t){}};o("dbd5");const K=g()(z,[["render",$],["__scopeId","data-v-e7cb9a8c"]]);var P=K;const W=e=>(Object(i["pushScopeId"])("data-v-0af1acb0"),e=e(),Object(i["popScopeId"])(),e),q={class:"dict-result-header"},G={class:"dict-result-header-left"},Q=W(()=>Object(i["createElementVNode"])("span",{class:"color_text_1"},"查看全部",-1)),Z=W(()=>Object(i["createElementVNode"])("i",{class:"ic_dict-result-header-more"},null,-1)),Y=[Q,Z];function X(e,t,o,a,n,s){const r=P,c=Object(i["resolveComponent"])("Pinyin");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",q,[Object(i["createElementVNode"])("div",G,[o.data.ec?(Object(i["openBlock"])(),Object(i["createBlock"])(r,{key:0,data:o.data.ec.word},null,8,["data"])):o.data.ce?(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:1,data:o.data.ce.word},null,8,["data"])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",{class:"dict-result-header-more",onClick:t[0]||(t[0]=(...e)=>a.gotoDictWebResult&&a.gotoDictWebResult(...e))},Y)])}const J=e=>(Object(i["pushScopeId"])("data-v-4ad856f4"),e=e(),Object(i["popScopeId"])(),e),ee={key:0,class:"dict-result-ce-pinyin"},te=J(()=>Object(i["createElementVNode"])("i",{class:"slash color_text_5"},"/",-1)),oe={class:"phone color_text_2"},ae=J(()=>Object(i["createElementVNode"])("i",{class:"slash color_text_5"},"/",-1));function ne(e,t,o,a,n,s){return o.data.phone?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ee,[te,Object(i["createElementVNode"])("span",oe,Object(i["toDisplayString"])(o.data.phone),1),ae])):Object(i["createCommentVNode"])("",!0)}var ie={name:"Pinyin",props:{data:{type:Object,required:!0}},setup(e,t){}};o("8cff");const se=g()(ie,[["render",ne],["__scopeId","data-v-4ad856f4"]]);var re=se,ce={name:"DictResultHeader",props:{data:{type:Object,required:!0}},components:{EnglishPronounce:P,Pinyin:re},setup(e,t){const o=()=>{const t=e.data.ec||e.data.ce,o=t.word["return-phrase"];window.open(`https://dict.youdao.com/result?word=${encodeURIComponent(o)}&lang=en&keyfrom=fanyiweb_searchword`)};return{gotoDictWebResult:o}}};o("8dca");const le=g()(ce,[["render",X],["__scopeId","data-v-0af1acb0"]]);var de=le;const ue=e=>(Object(i["pushScopeId"])("data-v-53f7bc18"),e=e(),Object(i["popScopeId"])(),e),me={class:"dict-result"},he={class:"dict-result-consision"},ge=ue(()=>Object(i["createElementVNode"])("span",{class:"dict-result-source color_text_3"},"来自有道词典结果",-1));function pe(e,t,o,a,n,s){const r=de,c=C,l=b;return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",me,[Object(i["createVNode"])(r,{data:o.data},null,8,["data"]),Object(i["createElementVNode"])("div",he,[o.data.ec?(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:0,data:o.data.ec},null,8,["data"])):o.data.ce?(Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:1,data:o.data.ce},null,8,["data"])):Object(i["createCommentVNode"])("",!0)]),ge])}var be={name:"DictResult",props:{data:{type:Object,required:!0}},components:{DictResultHeader:de,Ce:b,Ec:C},setup(e,t){}};o("5fc7");const fe=g()(be,[["render",pe],["__scopeId","data-v-53f7bc18"]]);var je=fe,Oe=o("49cb");const ke=e=>(Object(i["pushScopeId"])("data-v-33fa994f"),e=e(),Object(i["popScopeId"])(),e),ye=ke(()=>Object(i["createElementVNode"])("div",{class:"header color_text_0"},"以下为该句多个翻译结果： ",-1)),ve={class:"suggestList"},we=["data-system-name","onClick"];function Ae(e,t,o,a,n,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"TransSuggestDialog",style:Object(i["normalizeStyle"])({top:a.dialogTop+"px",left:a.dialogLeft+"px"})},[ye,Object(i["createElementVNode"])("div",{class:"closeButton",onClick:a.closeDialog}),Object(i["createElementVNode"])("ul",ve,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(o.transSuggestList,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{class:"suggestItem color_text_1",key:e.systemName,"data-system-name":e.systemName,onClick:t=>a.suggestItemClickHandler(e)},Object(i["toDisplayString"])(e.tgt),9,we))),128))])],4)}var Te=o("a1e9"),_e=o("5c40"),Se={__name:"TransSuggestDialog",props:{transSuggestList:{type:Array,required:!0},relativeElement:{type:[Object,null],required:!0}},emits:["closeDialog","selectSuggest"],setup(e,{expose:t,emit:o}){t();const a=e,n=o,s=Object(Te["s"])(0),r=Object(Te["s"])(0),c=()=>{const e=a.relativeElement,t=e.getBoundingClientRect(),o=e.getClientRects();s.value=e.offsetTop+t.height+2,o.length>1?r.value=e.offsetLeft-(o[0].left-o[o.length-1].left):r.value=e.offsetLeft},l=e=>{n("selectSuggest",e)};Object(i["onBeforeMount"])(()=>{c()}),Object(_e["tc"])(()=>a.relativeElement,(e,t)=>{console.log("element",a.relativeElement),e!==t&&c()});const d=()=>{n("closeDialog")},u={props:a,emit:n,dialogTop:s,dialogLeft:r,updateDialogPosition:c,suggestItemClickHandler:l,closeDialog:d,get ref(){return Te["s"]},get watch(){return _e["tc"]}};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}};o("b53c");const Ce=g()(Se,[["render",Ae],["__scopeId","data-v-33fa994f"]]);var Ee=Ce,xe=o("c90c"),Ne=o("9a90"),Be=o("2811"),Ve=o.n(Be),Le=o("2be1"),He=o.n(Le),De=o("9ba8"),Re=o.n(De),Ie=o("79ea"),Fe=o.n(Ie),Ue=o("0b2d"),Me=o.n(Ue),$e=o("b5d1"),ze=o.n($e);const Ke={id:"inputOriginal",class:"TextTranslateContainer"},Pe={class:"source"},We={key:0,class:"text-translate-top"},qe={class:"language-selector-contianer"},Ge=Object(i["createElementVNode"])("span",null,"输入要翻译的文本或网址",-1),Qe=[Ge],Ze={id:"js_fanyi_input_outside_container",ref:"js_fanyi_input_outside_container","disable-keydown-focus":""},Ye=["contenteditable","spellcheck","dir"],Xe={class:"sourceAction","disable-quci":"",ref:"sourceInsideActionbBar"},Je={class:"opt"},et={class:"opt-left yd-form-container"},tt=["disabled"],ot=Object(i["createElementVNode"])("span",{class:"color_text_1"},"重点词汇",-1),at={key:1,class:"ai-btn-wrap"},nt={key:0,class:"opt-right yd-form-container"},it=Object(i["createElementVNode"])("i",null,"/",-1),st=Object(i["createElementVNode"])("i",null,"/",-1),rt={key:0,class:"tips-content"},ct={class:"title color_text_1"},lt=Object(i["createElementVNode"])("div",{class:"li-content"},[Object(i["createElementVNode"])("li",{class:"color_text_2"},"内测功能仅支持会员使用"),Object(i["createElementVNode"])("li",{class:"color_text_2"},"每日可翻译10次"),Object(i["createElementVNode"])("li",{class:"color_text_2"},"每次仅支持翻译500字符")],-1),dt=Object(i["createElementVNode"])("div",{class:"resizer color_divider_border_5"},null,-1),ut={class:Object(i["normalizeClass"])(["target"]),ref:"target"},mt={class:"text-translate-top"},ht={class:"domain-selector-container"},gt={id:"js_fanyi_output",ref:"js_fanyi_output",class:"color_text_1"},pt={key:0,class:"errorTips color_text_3",contenteditable:"false"},bt=Object(i["createElementVNode"])("span",null,"对不起，实在太长啦，让我喘口气吧",-1),ft=[bt],jt={key:1,class:"resultOutput step-trans-container"},Ot={class:Object(i["normalizeClass"])(["tgt color_text_1 un-step-trans chatGpt"])},kt=["dir"],yt={key:0,class:"step-trans-item"},vt=["data-section","data-sentence"],wt=["data-section","data-sentence","data-group"],At={key:0,class:"pjm-top"},Tt={class:"pjm-bottom"},_t=["data-section","data-sentence","data-group"],St=["dir"],Ct=["data-section","data-sentence","data-group"],Et=["data-section","data-sentence","data-group"],xt=["dir"],Nt=["data-section","data-sentence","data-group"],Bt=["data-section"],Vt=["data-section","data-sentence","data-group","onClick","onInput"],Lt={key:0,class:"pjm-top",contenteditable:"false"},Ht=["data-pjm_index"],Dt={key:0,class:"tgt-line"},Rt=["data-section","data-sentence","data-group"],It=["data-section","data-sentence","data-group","onClick","onInput"],Ft={key:1,class:"translate-domain-text color_text_4"},Ut={key:1,class:"errorTips color_text_3",contenteditable:"false"},Mt=Object(i["createElementVNode"])("span",null,"翻译数据正在路上...",-1),$t=[Mt],zt={key:2,class:"errorTips color_text_3",contenteditable:"false"},Kt={class:"targetAction","disable-quci":""},Pt={class:"opt"},Wt={class:"opt-left yd-form-container container_ch"},qt={key:2,class:"checkbox color_text_3"},Gt=Object(i["createElementVNode"])("span",{class:"color_text_1"},"逐句对照",-1),Qt={key:3,class:"ai-btn-wrap"},Zt={key:4,class:"button_feedback"},Yt={key:0,class:"ico",src:Ve.a,alt:"like"},Xt={key:1,class:"ico",src:He.a,alt:"like"},Jt={key:2,class:"ico",src:Re.a,alt:"like"},eo={key:3,class:"hover_dialog hover_dialog_left"},to=Object(i["createElementVNode"])("span",{class:"triangle triangle_left"},null,-1),oo={key:0,class:"ico",src:Fe.a,alt:"dislike"},ao={key:1,class:"ico",src:Me.a,alt:"dislike"},no={key:2,class:"ico",src:ze.a,alt:"dislike"},io={key:3,class:"hover_dialog hover_dialog_right"},so=Object(i["createElementVNode"])("span",{class:"triangle triangle_right"},null,-1),ro=Object(i["createElementVNode"])("div",{class:"opt-right yd-form-container"},null,-1),co={class:"fixedBottomActionBar color_bg_1"},lo={class:"sourceActionContainer"},uo={class:"sourceAction","disable-quci":""},mo={class:"opt"},ho={class:"opt-left yd-form-container"},go={class:"checkbox color_text_3"},po=Object(i["createElementVNode"])("span",{class:"color_text_1"},"重点词汇",-1),bo={key:1,class:"ai-btn-wrap"},fo={key:0,class:"opt-right yd-form-container"},jo=Object(i["createElementVNode"])("i",null,"/",-1),Oo=Object(i["createElementVNode"])("i",null,"/",-1),ko={key:0,class:"tips-content"},yo={class:"title color_text_1"},vo=Object(i["createElementVNode"])("div",{class:"li-content"},[Object(i["createElementVNode"])("li",{class:"color_text_2"},"内测功能仅支持会员使用"),Object(i["createElementVNode"])("li",{class:"color_text_2"},"每日可翻译10次"),Object(i["createElementVNode"])("li",{class:"color_text_2"},"每次仅支持翻译500字符")],-1),wo={class:"targetActionContainer"},Ao={class:"targetAction","disable-quci":""},To={class:"opt"},_o={class:"opt-left yd-form-container container_ch"},So={key:2,class:"checkbox color_text_3"},Co=Object(i["createElementVNode"])("span",{class:"color_text_1"},"逐句对照",-1),Eo={key:3,class:"ai-btn-wrap"},xo={key:4,class:"button_feedback"},No={key:0,class:"ico",src:Ve.a,alt:"like"},Bo={key:1,class:"ico",src:He.a,alt:"like"},Vo={key:2,class:"ico",src:Re.a,alt:"like"},Lo={key:3,class:"hover_dialog hover_dialog_left"},Ho=Object(i["createElementVNode"])("span",{class:"triangle triangle_left"},null,-1),Do={key:0,class:"ico",src:Fe.a,alt:"dislike"},Ro={key:1,class:"ico",src:Me.a,alt:"dislike"},Io={key:2,class:"ico",src:ze.a,alt:"dislike"},Fo={key:3,class:"hover_dialog hover_dialog_right"},Uo=Object(i["createElementVNode"])("span",{class:"triangle triangle_right"},null,-1),Mo=Object(i["createElementVNode"])("div",{class:"opt-right yd-form-container"},null,-1),$o={key:0,class:"cover_ch"};function zo(e,t,o,a,s,r){const c=Ne["a"],l=n["a"],d=xe["a"],u=Ee,m=Object(i["resolveComponent"])("FeedBackDialog"),h=Oe["a"],g=Object(i["resolveDirective"])("tooltip");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ke,[Object(i["createElementVNode"])("div",{id:"TextTranslate",class:Object(i["normalizeClass"])([o.direction,{"fontsize-medium":"medium"===s.fontSize,expanded:s.showStepTrans&&e.isContrastAreaExpand,"big-size":!r.overBigSizeLimitNums}])},[Object(i["createElementVNode"])("div",Pe,[s.showStepTrans&&e.isContrastAreaExpand?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",We,[Object(i["createElementVNode"])("div",qe,[Object(i["createVNode"])(c,{currentLanFrom:s.source.init.from,currentLanTo:s.source.init.to,scene:"textTranslate",disabled:e.showKeyword,onOnLangChangeCallback:e.onLangSelectorChangeCallback,guessLanguage:e.languageFromUserSelectedWhenAuto},null,8,["currentLanFrom","currentLanTo","disabled","onOnLangChangeCallback","guessLanguage"])])])),e.showPlaceholder?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:1,class:Object(i["normalizeClass"])(["empty-placeholder color_text_5",e.sourceDir]),onClick:t[0]||(t[0]=(...t)=>e.placeholderClickHandler&&e.placeholderClickHandler(...t))},Qe,2)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",Ze,[Object(i["createElementVNode"])("div",{id:"js_fanyi_input",ref:"js_fanyi_input",class:Object(i["normalizeClass"])(["mod-section input color_text_1",s.source.init.from,{readOnly:e.showKeyword}]),onInput:t[1]||(t[1]=t=>e.inputChange(t)),onCompositionstart:t[2]||(t[2]=(...t)=>e.onCompositionStart&&e.onCompositionStart(...t)),onCompositionend:t[3]||(t[3]=(...t)=>e.onCompositionEnd&&e.onCompositionEnd(...t)),onKeydown:t[4]||(t[4]=Object(i["withKeys"])(Object(i["withModifiers"])(e=>r.inputEnterHandler(e),["stop"]),["enter"])),onPaste:t[5]||(t[5]=e=>r.onSourcePasteHandler(e)),onCopy:t[6]||(t[6]=t=>e.onContenteditableAreaCopyHandler(t)),contenteditable:!e.showKeyword,spellcheck:r.inputSpellcheck,dir:e.sourceDir},null,42,Ye)],512),Object(i["createElementVNode"])("div",Xe,[Object(i["createElementVNode"])("div",Je,[Object(i["createElementVNode"])("div",et,[s.orignTargetAudio&&s.showPlayVoice?Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:0,class:"icon",url:s.orignTargetAudio,"data-tooltip":s.nums>200?"仅支持前200字符的发音":"",syncId:"source-text"},null,8,["url","data-tooltip"])),[[g,void 0,void 0,{"top-left":!0}]]):Object(i["createCommentVNode"])("",!0),Object(i["withDirectives"])(Object(i["createElementVNode"])("label",{class:Object(i["normalizeClass"])(["checkbox color_text_3",{disabled:e.disableKeywordFunction}])},[Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{id:"keywordswitch",class:"g-checkbox",type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=t=>e.showKeyword=t),disabled:e.disableKeywordFunction,onKeydown:t[8]||(t[8]=(...t)=>e.spaceForbidListener&&e.spaceForbidListener(...t))},null,40,tt),[[i["vModelCheckbox"],e.showKeyword]]),ot],2),[[i["vShow"],e.supportKeywordFunction]]),s.showCopyText&&s.sourceLanguageIsNotZH?(Object(i["openBlock"])(),Object(i["createElementBlock"])("label",at,[Object(i["createElementVNode"])("a",{onClick:t[9]||(t[9]=(...t)=>e.goAiTabFromSource&&e.goAiTabFromSource(...t)),class:"main-page-ai-btn"},"AI润色")])):Object(i["createCommentVNode"])("",!0)]),s.nums>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",nt,[Object(i["withDirectives"])(Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["showNums color_text_1",{color_main_1_text:s.nums>=s.maxLimitnNumsForRed}])},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(s.nums),1),it,Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(s.maxLimitnNums),1)],2),[[i["vShow"],r.showWordsNumber&&"selfInnovate"===s.domainType]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["showNums color_text_1",{color_main_1_text:s.nums>=s.chatGptMaxLimitnNumsForRed}])},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(s.nums),1),st,Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(s.chatGptMaxLimitnNums),1),Object(i["createElementVNode"])("div",{class:"tips-icon",onMouseenter:t[10]||(t[10]=e=>s.showNumsTips=!0),onMouseleave:t[11]||(t[11]=e=>s.showNumsTips=!1)},null,32),s.showNumsTips?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",rt,[Object(i["createElementVNode"])("div",ct," 「"+Object(i["toDisplayString"])(e.domainLabel)+"」场景翻译功能内测中... ",1),lt])):Object(i["createCommentVNode"])("",!0)],2),[[i["vShow"],r.showWordsNumber&&"aigc"===s.domainType]])])):Object(i["createCommentVNode"])("",!0)])],512),s.showClear?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:2,href:"javascript:;",class:"clearBtn icon_clear",onClick:t[12]||(t[12]=t=>e.clearButtonClickHandler())})):Object(i["createCommentVNode"])("",!0)]),dt,Object(i["createElementVNode"])("div",ut,[Object(i["createElementVNode"])("div",mt,[Object(i["createElementVNode"])("div",ht,[Object(i["createVNode"])(d,{ref:"textTranslatedDomainSelector",type:"dialog",currentDomain:s.domain,useAllDomain:e.allowDomain,useType:s.domainUseType,isLogin:e.isLogin,onOnDomainChangeCallback:e.onDomainSelectorChangeCallback},null,8,["currentDomain","useAllDomain","useType","isLogin","onOnDomainChangeCallback"])])]),Object(i["createElementVNode"])("div",gt,[s.isMaxLimitnNums?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",pt,ft)):s.data.result.isChatGptResult?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",jt,[Object(i["createElementVNode"])("p",Ot,[Object(i["createElementVNode"])("span",{class:"tgt color_text_1",onCompositionstart:t[13]||(t[13]=(...t)=>e.onCompositionStart&&e.onCompositionStart(...t)),onCompositionend:t[14]||(t[14]=(...t)=>e.onCompositionEnd&&e.onCompositionEnd(...t))},Object(i["toDisplayString"])(s.data.result.aigcResp),33)])])):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:2},[s.data.result.error_msg?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[s.contenteditable?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,id:"js_fanyi_output_resultOutput",ref:"resultOutput",class:Object(i["normalizeClass"])(["resultOutput",s.source.init.to,{"with-pjm":r.showPjm}]),contenteditable:"false",spellcheck:"false",onMouseenter:t[31]||(t[31]=(...t)=>e.removeAllHightlight&&e.removeAllHightlight(...t)),onCopy:t[32]||(t[32]=t=>e.onContenteditableAreaCopyHandler(t)),dir:e.targetDir},[s.showStepTrans?(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],{key:0},Object(i["renderList"])(s.data.result.translateResult,(o,a)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"step-trans-container",key:a},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(o,(o,n)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:n},["\n"!==o.tgt?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",yt,[s.data.result.type.indexOf("2ja")>-1&&o.jaTransPjm?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createElementVNode"])("p",{class:"tgt color_text_1 pjm-tgt step-trans","data-section":a,"data-sentence":n},[Object(i["createElementVNode"])("span",{class:"tgt color_text_1","data-section":a,"data-sentence":n,"data-group":a+"-"+n,onMouseenter:t[15]||(t[15]=(...t)=>e.highlightHandler&&e.highlightHandler(...t)),onMouseleave:t[16]||(t[16]=(...t)=>e.removeHightlightHandler&&e.removeHightlightHandler(...t))},[r.showPjm?(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],{key:0},Object(i["renderList"])(o.jaTransPjm,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{ref_for:!0,ref:"pjmWrap",class:Object(i["normalizeClass"])(["pjm-wrap",{"pjm-container":e.pjm}]),key:e.word+e.pjm+t},[e.pjm?(Object(i["openBlock"])(),Object(i["createElementBlock"])("strong",At,Object(i["toDisplayString"])(e.pjm),1)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("span",Tt,Object(i["toDisplayString"])(e.word),1)],2))),128)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(o.tgt),1)],64))],40,wt)],8,vt),r.showRomanPronunciation&&o.tgtPronounce?(Object(i["openBlock"])(),Object(i["createElementBlock"])("strong",{key:0,class:"tgtPronounce tgt color_text_4","data-section":a,"data-sentence":n,"data-group":a+"-"+n},Object(i["toDisplayString"])(o.tgtPronounce),9,_t)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("p",{class:"pjm-src",dir:e.sourceDir},[Object(i["createElementVNode"])("span",{class:"src color_text_2","data-section":a,"data-sentence":n,"data-group":a+"-"+n,onMouseenter:t[17]||(t[17]=(...t)=>e.highlightHandler&&e.highlightHandler(...t)),onMouseleave:t[18]||(t[18]=(...t)=>e.removeHightlightHandler&&e.removeHightlightHandler(...t))},Object(i["toDisplayString"])(o.src),41,Ct)],8,St)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createElementVNode"])("p",null,[Object(i["createElementVNode"])("span",{class:"tgt color_text_1","data-section":a,"data-sentence":n,"data-group":a+"-"+n,onMouseenter:t[19]||(t[19]=(...t)=>e.highlightHandler&&e.highlightHandler(...t)),onMouseleave:t[20]||(t[20]=(...t)=>e.removeHightlightHandler&&e.removeHightlightHandler(...t))},Object(i["toDisplayString"])(o.tgt),41,Et)]),Object(i["createElementVNode"])("p",{dir:e.sourceDir},[Object(i["createElementVNode"])("span",{class:"src color_text_3","data-section":a,"data-sentence":n,"data-group":a+"-"+n,onMouseenter:t[21]||(t[21]=(...t)=>e.highlightHandler&&e.highlightHandler(...t)),onMouseleave:t[22]||(t[22]=(...t)=>e.removeHightlightHandler&&e.removeHightlightHandler(...t))},Object(i["toDisplayString"])(o.src),41,Nt)],8,xt)],64))])):Object(i["createCommentVNode"])("",!0)],64))),128))]))),128)):(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],{key:1},Object(i["renderList"])(s.data.result.translateResult,(o,a)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("p",{key:a,"data-section":a,class:Object(i["normalizeClass"])(["tgt color_text_1 un-step-trans",{"pjm-tgt":s.data.result.type.indexOf("2ja")>-1&&o[0].jaTransPjm}])},[s.data.result.type.indexOf("2ja")>-1&&o[0].jaTransPjm?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(o,(n,s)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{class:"tgt color_text_1","data-section":a,"data-sentence":s,"data-group":a+"-"+s,onClick:t=>e.singleTgtClickHandler(t,o,a,s),onInput:t=>e.singleTgtInputHandler(t,o,a,s),onCompositionstart:t[23]||(t[23]=(...t)=>e.onCompositionStart&&e.onCompositionStart(...t)),onCompositionend:t[24]||(t[24]=(...t)=>e.onCompositionEnd&&e.onCompositionEnd(...t)),onMouseenter:t[25]||(t[25]=(...t)=>e.highlightHandler&&e.highlightHandler(...t)),onMouseleave:t[26]||(t[26]=(...t)=>e.removeHightlightHandler&&e.removeHightlightHandler(...t)),key:a+"-"+s},[r.showPjm?(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],{key:0},Object(i["renderList"])(n.jaTransPjm,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{ref_for:!0,ref:"pjmWrap",class:Object(i["normalizeClass"])(["pjm-wrap",{"pjm-container":e.pjm}]),key:e.word+e.pjm+t},[e.pjm?(Object(i["openBlock"])(),Object(i["createElementBlock"])("strong",Lt,Object(i["toDisplayString"])(e.pjm),1)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("span",{class:"pjm-bottom","data-pjm_index":t},Object(i["toDisplayString"])(e.word||""),9,Ht)],2))),128)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(n.tgt),1)],64))],40,Vt))),128)),r.showRomanPronunciation?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Dt)):Object(i["createCommentVNode"])("",!0),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(o,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:a+"-"+t},[r.showRomanPronunciation&&e.tgtPronounce?(Object(i["openBlock"])(),Object(i["createElementBlock"])("strong",{key:0,spellcheck:"false",class:"tgtPronounce tgt-pronounce color_text_4","data-section":a,"data-sentence":t,"data-group":a+"-"+t},Object(i["toDisplayString"])(e.tgtPronounce),9,Rt)):Object(i["createCommentVNode"])("",!0)],64))),128))],64)):(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],{key:1},Object(i["renderList"])(o,(n,s)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{class:"tgt color_text_1","data-section":a,"data-sentence":s,"data-group":a+"-"+s,onClick:t=>e.singleTgtClickHandler(t,o,a,s),onInput:t=>e.singleTgtInputHandler(t,o,a,s),onCompositionstart:t[27]||(t[27]=(...t)=>e.onCompositionStart&&e.onCompositionStart(...t)),onCompositionend:t[28]||(t[28]=(...t)=>e.onCompositionEnd&&e.onCompositionEnd(...t)),onMouseenter:t[29]||(t[29]=(...t)=>e.highlightHandler&&e.highlightHandler(...t)),onMouseleave:t[30]||(t[30]=(...t)=>e.removeHightlightHandler&&e.removeHightlightHandler(...t)),key:a+"-"+s},Object(i["toDisplayString"])(n.tgt),41,It))),128))],10,Bt))),128))],42,kt)):Object(i["createCommentVNode"])("",!0),s.showCopyText&&void 0===s.data.result.isChatGptResult?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ft,[Object(i["createTextVNode"])("以上翻译结果来自有道神经网络翻译（YNMT）"),Object(i["createElementVNode"])("span",null,"· "+Object(i["toDisplayString"])(e.domainLabel),1)])):Object(i["createCommentVNode"])("",!0),e.transSuggestDialogVisible?(Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:2,relativeElement:e.transSuggestRelativeEl,transSuggestList:e.transSuggestList,onCloseDialog:e.closeTransSuggestDialog,onSelectSuggest:e.selectSuggestHandler},null,8,["relativeElement","transSuggestList","onCloseDialog","onSelectSuggest"])):Object(i["createCommentVNode"])("",!0)],64)),s.loading&&!s.data.result.error_msg?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ut,$t)):Object(i["createCommentVNode"])("",!0),s.data.result.error_msg?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",zt,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(s.data.result.error_msg),1)])):Object(i["createCommentVNode"])("",!0)],64))],512),Object(i["createElementVNode"])("div",Kt,[Object(i["createElementVNode"])("div",Pt,[Object(i["createElementVNode"])("div",Wt,[s.targetAudioUrl?Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:0,class:"icon",url:s.targetAudioUrl,"data-tooltip":s.targetNums>200?"仅支持前200字符的发音":"",syncId:"target-text"},null,8,["url","data-tooltip"])),[[g,void 0,void 0,{"top-left":!0}]]):Object(i["createCommentVNode"])("",!0),s.showCopyText?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:1,href:"javascript:;",class:"icon ic_translate_copy copy",onClick:t[33]||(t[33]=t=>e.copy()),title:"复制"})):Object(i["createCommentVNode"])("",!0),s.hasStepTrans?(Object(i["openBlock"])(),Object(i["createElementBlock"])("label",qt,[Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"checkbox",class:"g-checkbox","onUpdate:modelValue":t[34]||(t[34]=e=>s.showStepTrans=e),onClick:t[35]||(t[35]=(...t)=>e.showStepTransFun&&e.showStepTransFun(...t))},null,512),[[i["vModelCheckbox"],s.showStepTrans]]),Gt])):Object(i["createCommentVNode"])("",!0),s.showCopyText&&s.transLanguageIsNotZH?(Object(i["openBlock"])(),Object(i["createElementBlock"])("label",Qt,[Object(i["createElementVNode"])("a",{onClick:t[36]||(t[36]=(...t)=>e.goAiTabFromTrans&&e.goAiTabFromTrans(...t)),class:"main-page-ai-btn"},"AI润色")])):Object(i["createCommentVNode"])("",!0),s.showFeedbackButton?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Zt,[Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])(["feedback_ico like_ico",{selected:"like"===s.isSelect,select_active:"dislike"===s.isSelect}]),onMouseenter:t[37]||(t[37]=e=>s.isHover_left=!0),onMouseleave:t[38]||(t[38]=e=>s.isHover_left=!1),onClick:t[39]||(t[39]=e=>r.handleButton("like"))},["like"===s.isSelect?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",Yt)):"dislike"===s.isSelect?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",Xt)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",Jt)),s.isHover_left?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",eo,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(r.likeTxt)+" ",1),to])):Object(i["createCommentVNode"])("",!0)],34),Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])(["feedback_ico",{selected:"dislike"===s.isSelect,select_active:"like"===s.isSelect}]),onMouseenter:t[40]||(t[40]=e=>s.isHover=!0),onMouseleave:t[41]||(t[41]=e=>s.isHover=!1),onClick:t[42]||(t[42]=e=>r.handleButton("dislike"))},["dislike"===s.isSelect?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",oo)):"like"===s.isSelect?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",ao)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",no)),s.isHover?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",io,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(r.dislikeTxt)+" ",1),so])):Object(i["createCommentVNode"])("",!0)],34)])):Object(i["createCommentVNode"])("",!0)]),ro])])],512),Object(i["createElementVNode"])("div",{class:"fixedBottomActionBar-border-box",ref:"fixedBottomActionBar",style:Object(i["normalizeStyle"])({visibility:s.showFixBottomAction?"visible":"hidden"})},[Object(i["createElementVNode"])("div",co,[Object(i["createElementVNode"])("div",lo,[Object(i["createElementVNode"])("div",uo,[Object(i["createElementVNode"])("div",mo,[Object(i["createElementVNode"])("div",ho,[s.orignTargetAudio&&s.showPlayVoice?Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:0,class:"icon",url:s.orignTargetAudio,"data-tooltip":s.nums>200?"仅支持前200字符的发音":"",syncId:"source-text"},null,8,["url","data-tooltip"])),[[g,void 0,void 0,{"top-left":!0}]]):Object(i["createCommentVNode"])("",!0),Object(i["withDirectives"])(Object(i["createElementVNode"])("label",go,[Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{id:"keywordswitch",class:"g-checkbox",type:"checkbox","onUpdate:modelValue":t[43]||(t[43]=t=>e.showKeyword=t),onKeydown:t[44]||(t[44]=(...t)=>e.spaceForbidListener&&e.spaceForbidListener(...t))},null,544),[[i["vModelCheckbox"],e.showKeyword]]),po],512),[[i["vShow"],e.supportKeywordFunction]]),s.showCopyText&&s.sourceLanguageIsNotZH?(Object(i["openBlock"])(),Object(i["createElementBlock"])("label",bo,[Object(i["createElementVNode"])("a",{onClick:t[45]||(t[45]=(...t)=>e.goAiTabFromSource&&e.goAiTabFromSource(...t)),class:"main-page-ai-btn"},"AI润色")])):Object(i["createCommentVNode"])("",!0)]),s.nums>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",fo,[Object(i["withDirectives"])(Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["showNums color_text_1",{color_main_1_text:s.nums>=s.maxLimitnNumsForRed}])},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(s.nums),1),jo,Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(s.maxLimitnNums),1)],2),[[i["vShow"],r.showWordsNumber&&"selfInnovate"===s.domainType]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["showNums color_text_1",{color_main_1_text:s.nums>=s.chatGptMaxLimitnNumsForRed}])},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(s.nums),1),Oo,Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(s.chatGptMaxLimitnNums),1),Object(i["createElementVNode"])("div",{class:"tips-icon",onMouseenter:t[46]||(t[46]=e=>s.showNumsTips=!0),onMouseleave:t[47]||(t[47]=e=>s.showNumsTips=!1)},null,32),s.showNumsTips?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ko,[Object(i["createElementVNode"])("div",yo," 「"+Object(i["toDisplayString"])(e.domainLabel)+"」场景翻译功能内测中... ",1),vo])):Object(i["createCommentVNode"])("",!0)],2),[[i["vShow"],r.showWordsNumber&&"aigc"===s.domainType]])])):Object(i["createCommentVNode"])("",!0)])])]),Object(i["createElementVNode"])("div",wo,[Object(i["createElementVNode"])("div",Ao,[Object(i["createElementVNode"])("div",To,[Object(i["createElementVNode"])("div",_o,[s.targetAudioUrl?Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:0,class:"icon",url:s.targetAudioUrl,"data-tooltip":s.targetNums>200?"仅支持前200字符的发音":"",syncId:"target-text"},null,8,["url","data-tooltip"])),[[g,void 0,void 0,{"top-left":!0}]]):Object(i["createCommentVNode"])("",!0),s.showCopyText?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:1,href:"javascript:;",class:"icon ic_translate_copy copy",onClick:t[48]||(t[48]=t=>e.copy()),title:"复制"})):Object(i["createCommentVNode"])("",!0),s.hasStepTrans?(Object(i["openBlock"])(),Object(i["createElementBlock"])("label",So,[Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"checkbox",class:"g-checkbox","onUpdate:modelValue":t[49]||(t[49]=e=>s.showStepTrans=e),onClick:t[50]||(t[50]=(...t)=>e.showStepTransFun&&e.showStepTransFun(...t))},null,512),[[i["vModelCheckbox"],s.showStepTrans]]),Co])):Object(i["createCommentVNode"])("",!0),s.showCopyText&&s.transLanguageIsNotZH?(Object(i["openBlock"])(),Object(i["createElementBlock"])("label",Eo,[Object(i["createElementVNode"])("a",{onClick:t[51]||(t[51]=(...t)=>e.goAiTabFromTrans&&e.goAiTabFromTrans(...t)),class:"main-page-ai-btn"},"AI润色")])):Object(i["createCommentVNode"])("",!0),s.showFeedbackButton?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",xo,[Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])(["feedback_ico like_ico",{selected:"like"===s.isSelect,select_active:"dislike"===s.isSelect}]),onMouseenter:t[52]||(t[52]=e=>s.isHover_left=!0),onMouseleave:t[53]||(t[53]=e=>s.isHover_left=!1),onClick:t[54]||(t[54]=e=>r.handleButton("like"))},["like"===s.isSelect?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",No)):"dislike"===s.isSelect?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",Bo)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",Vo)),s.isHover_left?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Lo,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(r.likeTxt)+" ",1),Ho])):Object(i["createCommentVNode"])("",!0)],34),Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])(["feedback_ico",{selected:"dislike"===s.isSelect,select_active:"like"===s.isSelect}]),onMouseenter:t[55]||(t[55]=e=>s.isHover=!0),onMouseleave:t[56]||(t[56]=e=>s.isHover=!1),onClick:t[57]||(t[57]=e=>r.handleButton("dislike"))},["dislike"===s.isSelect?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",Do)):"like"===s.isSelect?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",Ro)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",Io)),s.isHover?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Fo,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(r.dislikeTxt)+" ",1),Uo])):Object(i["createCommentVNode"])("",!0)],34)])):Object(i["createCommentVNode"])("",!0)]),Mo])])])])],4)],2),s.isShow?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",$o)):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(h,{width:"454px",height:s.dialogSize,top:"50%",left:"50%",isCenter:!0,"dialog-visible":s.isShow,onCloseDialog:r.closeDialogHandler},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(m,{result:r.submitResult,dialogVis:s.isShow,onCloseDialog:r.closeDialogHandler,onBigSize:r.changeSize,onUnSubmit:r.changeSelect},null,8,["result","dialogVis","onCloseDialog","onBigSize","onUnSubmit"])]),_:1},8,["height","dialog-visible","onCloseDialog"])])}var Ko=o("5530"),Po=(o("14d9"),o("8139")),Wo=o("4360"),qo=o("cee4");function Go(e,t){Qo({data:e.data,success:function(t){!0;var o=!1,a=!1;t.data&&(t.data.isDog=o,t.data.isCat=a),t.type="net",t.data,e.success(t)},fail:e.fail})}function Qo(e){var t=e=>e?function(t){e({data:t||{},code:1e3,from:"net"})}:null;const o=Wo["a"].state.text.secretKey;var a=e.data.domain?{domain:e.data.domain}:{};Po["a"].getTextTranslateResult(Object(Ko["a"])(Object(Ko["a"])({i:e.data.keyword,from:e.data.from,to:e.data.to},a),{},{dictResult:!0,keyid:"webfanyi"}),o).then(o=>{Po["a"].cancelLastGpt();const a=Po["a"].decodeData(o,Wo["a"].state.text.decodeKey,Wo["a"].state.text.decodeIv),n=a?JSON.parse(a):{};0===n.code?e.success&&t(e.success)(n):e.fail&&t(e.fail)(n)}).catch(o=>{e.fail&&t(e.fail)({online:!1})})}function Zo(e,t){Yo({data:e.data,success:function(t){!0,e.success(t)},fail:e.fail})}function Yo(e){var t=e=>e?function(t){e({data:t||{},code:1e3,from:"net"})}:null;const o="8XdqRK6tvAQAtRB349Wdmkzxr2A5fqDJ";Po["a"].getAigcTran(Object(Ko["a"])(Object(Ko["a"])({},e.data),{},{keyid:"minor-search-server"}),o).then(o=>{0===o.code?e.success&&t(e.success)(o):e.fail&&t(e.fail)(o)}).catch(o=>{qo["a"].isCancel(o)?console.log("Request canceled",o.message):e.fail&&t(e.fail)({online:!1,data:{}})})}var Xo={audio:["en","zh","ja"]},Jo=o("8393");function ea(e){var t,o=e.data||{},a=!0;switch((!o.translateResult||o.translateResult&&o.translateResult[0]&&o.translateResult[0][0]&&!o.translateResult[0][0]["tgt"])&&(a=!1),o.originTranslateResult=o.translateResult?JSON.parse(JSON.stringify(o.translateResult)):[],"unsupported"==o.type&&(t="对不起，我不认识你的语言，请在左上方选择语言后再让我翻译"),o.code){case 2:t="对不起，请重试";break;case 10:case 20:t="对不起，实在太长啦，让我喘口气";break;case 30:t="对不起，我绞尽脑汁了";break;case 40:t="对不起，我正在学习该语种中";break;case 50:t="网络验证失败，请稍后重试";break}return a||(o.isDog&&0!=o.online&&(t="你输入太过频繁，请先休息一会儿！"),o.isCat&&0!=o.online&&(t="您的网络暂时不可用或受限，请检查您的网络设置"),0==o.online&&(t="当前网络不可用，请检查您的网络状态")),t?(Object(Jo["a"])(t),{error_code:o.code,error_msg:t,online:o.online}):(o.isHasResult=a,o)}function ta(e){var t,o=e.data.data,a=!0;switch(null!==o&&void 0!==o&&o.aigcResp||!1,e.data.code){case 3002:t=e.data.msg;break;case 3004:t="对不起，我正在学习该语种中";case void 0:t="对不起，我正在学习该语种中"}return t?{error_code:e.data.code,error_msg:t}:(o.isChatGptResult=a,o)}var oa=o("8544"),aa={getStringNum:function(e){for(var t=0,o=0;o<(e+"").length;o++){var a=e.charCodeAt(o);a>=1&&a<=126||65376<=a&&a<=65439?t++:t+=2}return t},isChinese:function(e,t=100){var o=this.getStringNum(n(e)),a=3*this.chineseLength(e);function n(e){var t=e.replace(/[\ |\~|\`|\!|\@|\#|\$|\%|\^|\&|\*|\(|\)|\-|\_|\+|\=|\||\\|\[|\]|\{|\}|\;|\:|\"|\'|\,|\<|\.|\>|\/|\?|\d]/g,"");return t}return a/o*100>=t},chineseLength:function(e){var t=0,o=/[\u4E00-\u9FA5]/g,a=/[\u3002|\uff1f|\uff01|\uff0c|\u3001|\uff1b|\uff1a|\u201c|\u201d|\u2018|\u2019|\uff08|\uff09|\u300a|\u300b|\u3008|\u3009|\u3010|\u3011|\u300e|\u300f|\u300c|\u300d|\ufe43|\ufe44|\u3014|\u3015|\u2026|\u2014|\uff5e|\ufe4f|\uffe5]/g;return e&&(o.test(e)&&(t=e.match(o).length),a.test(e)&&(t+=e.match(a).length)),t}},na=o("e550");const ia="deskdict.main",sa="text_translate_string";function ra(e,t){const o=document.createEvent("HTMLEvents");o.initEvent(t,!0,!0),e.dispatchEvent(o)}function ca(e){e.target.composing=!0,this.composing=!0}function la(e){e.target.composing&&(e.target.composing=!1,ra(e.target,"input"),this.composing=!1)}function da(e){if(window._rlog.push(["_trackCustom","event",[["action","text_translation_input"],["source","input"]]]),!e.target.composing){var t=this,o=e.target,a=o.innerText;""==a.trim()&&(a=o.textContent);var n=ua(a,t.maxLimitnNums);t.source.init=Object.assign({},t.source.init,{keyword:n}),a.length>=this.maxLimitnNums&&(o.innerText=n,this.keepLastIndex())}}function ua(e,t){return e.trim().substring(0,t)}function ma(e){var t=this;t.source.init.from==e.lanFrom&&t.source.init.to==e.lanTo||(t.source.init=Object.assign({},t.source.init,{from:e.lanFrom,to:e.lanTo}),t.search({needAddHistroy:!0,from:"changeTrans",needSendLog:!0}))}function ha(e={}){var t=this,o=e.keyword,a=e.srcLang,n=e.dstLang,i=e.from,s=e.domain||"";if("auto"!==a&&!n){var r="ja"==a?80:30,c=a;aa.isChinese(o,r)?(a="zh-CHS",n=c):(a=c,n="zh-CHS")}t.hideKeyword(),t.needRealTimeSearch_flag=!1,t.source.init=Object.assign({},t.source.init,{keyword:o,from:a,to:n}),s&&""!==s.trim()&&(this.domain=s),t.$nextTick(()=>{t.$refs.js_fanyi_input.innerText=o,t.keepLastIndex()}),t._onTransLangChanged({lanFrom:a,lanTo:n}),t.search({needAddHistroy:!0,from:i,needSendLog:!!i})}function ga(){this.search({needAddHistroy:!0,from:"click",needSendLog:!0})}var pa=0,ba=null,fa=null,ja=null;function Oa(e={needAddHistroy:!1,from:"realtime",needSendLog:!0}){var t=this,o={needAddHistroy:e.needAddHistroy},a=(new Date).getTime(),n=t.source.init.keyword.trim(),i="selfInnovate",s="";if(this.$store.state.domain.textTransDomainMap.forEach(e=>{e.str===t.domain&&(i="aigc"===e.from?"aigc":"selfInnovate",s=e.msg)}),n)if(t.contenteditable=!1,t.closeTransSuggestDialog(),window.globalStopAudio(),t.showClear=!0,t.nums=n.length,n.length>t.maxLimitnNums)t.$toast({text:`超过${t.maxLimitnNums}字的翻译请使用文档翻译`,time:1.5,type:"warn"});else{if(Ua(n)){let e=encodeURIComponent(n);const t="https://fanyi.youdao.com/trans/#/home";window.open(`${t}?keyfrom=fanyiweb&url=${e}&type=undefined`)}else if(Ma(n)){let e=encodeURIComponent(n);window.open("http://fanyi.youdao.com/WebpageTranslate?keyfrom=fanyiweb&url="+e+"&type=undefined")}var r=!1;t.loading=!1,ja&&clearTimeout(ja),ja=setTimeout((function(){r||(t.loading=!0,t.resetWithoutSuccessResult())}),1e3);var c=t.allowDomain?{domain:t.domain}:{};"selfInnovate"===i||!t.allowDomain&&"auto"!==t.source.init.from?(o.data=Object(Ko["a"])({keyword:t.source.init.keyword,from:t.source.init.from||"auto",to:t.source.init.to||"",keyfrom:ia},c),o.success=function(n){t.updateDictResult(n);var i=ea(n);if(t.data.result=i,"mac"===t.platfrom&&"local"===n.type||(r=!0,t.loading=!1,ja&&clearTimeout(ja)),i.isHasResult&&(t.showFeedbackButton=!0,t.contenteditable="plaintext-only"),"auto"==t.source.init.from&&!t.source.init.to&&n.data.type){var c=n.data.type;if(c.indexOf("2")>0){var l=c.indexOf("2"),d=c.substring(0,l),u=c.substring(l+1);ba=d,fa=u}}t.ENandZH();var m=t.data.result.translateResult||[],h="";m.forEach((function(e,o){Za(e)&&e.length>0?(e.forEach((function(e){h+=e.tgt})),t.hasStepTrans=!0):(h+=e,t.hasStepTrans=!1)})),t.targetNums=h.length,t.showPlayVoice=!0,t.$nextTick((function(){if(t.resetModifiedContent(),h?("auto"==t.source.init.from&&!t.source.init.to&&fa?t.targetAudioUrl=t.updateAudio(fa,h):t.targetAudioUrl=t.updateAudio(t.source.init.to||t.source.init.from,h),t.showCopyText=!0):(t.hasStepTrans=!1,t.showCopyText=!1,t.orignTargetAudio="",t.targetAudioUrl=null),t.source.init.keyword){let e=t.source.init.keyword;"auto"==t.source.init.from&&!t.source.init.to&&ba?t.orignTargetAudio=t.updateAudio(ba,e):t.orignTargetAudio=t.updateAudio(t.source.init.from||t.source.init.to,e)}else t.orignTargetAudio=null;if(t.data.result.translateResult){t.sourceHightLightHtml=t.genSourceHightLightHtml(t.data.result.translateResult),t.hasHighlighted=!1;const e=document.createElement("div");e.innerHTML=t.sourceHightLightHtml;const o=e.getElementsByTagName("span");let a="";a=o.length>=2?o[0].innerHTML+o[1].innerHTML:1===o.length?o[0].innerHTML:"",this.$store.commit("FIRSTTWOORIGINTEXT",a),this.$store.commit("HOMEORIGINTEXT",t.source.init.keyword)}t.fetchKeyword(t.source.init.keyword)})),o.needAddHistroy,window.ydk&&window.ydk.rlog({timing:"trans_load",keyfrom:ia,q:t.source.init.keyword,duration:(new Date).getTime()-a,type:"success",from:n.type||n.from}),e.needSendLog&&window._rlog.push(["_trackCustom","event",[["show","text_translation_result"],["type",e.from],["setting",s],["from",t.source.init.from||"auto"],["to",t.source.init.to||""]]])},o.fail=function(e){var o=ea(e);t.data.result=o,r=!0,t.loading=!1,ja&&clearTimeout(ja),t.showClear=!0,t.resetWithoutSuccessResult(),window.ydk&&window.ydk.rlog({timing:"trans_load",keyfrom:ia,q:t.source.init.keyword,duration:(new Date).getTime()-a,type:"error"})},Go(o,t)):(o.data={query:t.source.init.keyword.substr(0,500),style:s},"auto"===t.source.init.from?o.data.lang="auto":o.data.lang="en"===t.source.init.to?"英语":"zh-CHS"===t.source.init.to?"中文":t.source.init.to,o.success=function(o){t.updateDictResult(o);var a=ta(o);if(t.data.result=a,"mac"===t.platfrom&&"local"===o.type||(r=!0,t.loading=!1,ja&&clearTimeout(ja)),t.targetNums=a.aigcResp.length,t.showPlayVoice=!0,"auto"==t.source.init.from&&!t.source.init.to&&o.data.type){var n=o.data.type;if(n.indexOf("2")>0){var i=n.indexOf("2"),c=n.substring(0,i),l=n.substring(i+1);ba=c,fa=l}}t.$nextTick((function(){if(t.resetModifiedContent(),a.aigcResp?("auto"==t.source.init.from&&!t.source.init.to&&fa?t.targetAudioUrl=t.updateAudio(fa,a.aigcResp):t.targetAudioUrl=t.updateAudio(t.source.init.to||t.source.init.from,a.aigcResp),t.showCopyText=!0,t.showFeedbackButton=!0):(t.hasStepTrans=!1,t.showCopyText=!1,t.orignTargetAudio="",t.targetAudioUrl=null),t.source.init.keyword){let e=t.source.init.keyword;"auto"==t.source.init.from&&!t.source.init.to&&ba?t.orignTargetAudio=t.updateAudio(ba,e):t.orignTargetAudio=t.updateAudio(t.source.init.from||t.source.init.to,e)}else t.orignTargetAudio=null})),e.needSendLog&&window._rlog.push(["_trackCustom","event",[["show","text_translation_result"],["type",e.from],["setting",s],["from",t.source.init.from||"auto"],["to",t.source.init.to||""]]])},o.fail=function(e){var o=ta(e);t.data.result=o,r=!0,t.loading=!1,ja&&clearTimeout(ja),t.showClear=!0,t.resetWithoutSuccessResult()},Zo(o,t)),e.needSendLog&&window.ydk&&window.ydk.rlog({action:"trans_query",from:e.from,style:t.direction,type:t.source.init.from+"2"+t.source.init.to,q:t.source.init.keyword.length})}else t.clear(!1)}function ka(e){e&&e.data&&e.data.dictResult?this.$store.dispatch("setDictResult",e.data.dictResult):this.$store.dispatch("setDictResult",{})}function ya(){this.modified_tgt="",this.modified_data=""}function va(e){var t=this;if(t.data.result.type&&t.data.result.type.indexOf("2ja")>-1){var o=/<(strong)(?=[\s>])[\w\W]*?<\/\1\s*>/gi,a=/<[^>]+>/gi;if(!document.getElementById("js_fanyi_output_resultOutput"))return;var n=document.getElementById("js_fanyi_output_resultOutput").outerHTML;let e=n.replace(o,""),i=e.replace(a,"");t.modified_tgt=t.modified_data=i.split("\r\n")}else{let e=t.$refs.resultOutput;t.modified_tgt=e.innerText,t.modified_data=t.$refs.resultOutput?t.$refs.resultOutput.textContent.trim():""}}function wa(e){var t="";return e.forEach((e,o)=>{e.forEach((e,a)=>{e["src"]=e["src"].replace(/</g,"&lt;").replace(/>/g,"&gt;"),t+=`<span class='src' data-group='${o}-${a}'>${e["src"]}</span>`})}),t}function Aa(){return/Firefox/.test(navigator.userAgent)}function Ta(e){var t=this;if(setTimeout(()=>{var o=e.target,a=o.innerText;""==a.trim()&&(a=o.textContent,this.$store.commit("ISPASTE_ORIGIN_TEXT",!1));var n=ua(a,t.maxLimitnNums);n.length>80?this.$store.commit("ISPASTE_ORIGIN_TEXT",!0):this.$store.commit("ISPASTE_ORIGIN_TEXT",!1)}),Aa()){e.preventDefault();var o=(e.originalEvent||e).clipboardData,a=o.getData("text/plain")||"";""!==a&&(a=a.replace(/(\r\n|\r|\n)/g,"\n"),document.execCommand("insertText",!1,a))}}function _a(e){var t=this.$refs.js_fanyi_input,o=this.$refs.js_fanyi_output,a=e.target;this.showKeyword||this.hasHighlighted||(this.insertHighLightHtmlToSource(),this.hasHighlighted=!0);var n=a.getAttribute("data-group");if(n){var i=o.querySelectorAll('.tgt[data-group="'+n+'"]');this._addDomsClassByClassname(i,"highlight");var s=o.querySelectorAll('.src[data-group="'+n+'"]');this._addDomsClassByClassname(s,"highlight");var r=o.querySelectorAll('.tgtPronounce[data-group="'+n+'"]');this._addDomsClassByClassname(r,"highlight");var c=t.querySelectorAll('.src[data-group="'+n+'"]');this._addDomsClassByClassname(c,"highlight"),this.checkTransSuggestTip(e)}}function Sa(e){var t=this.$refs.js_fanyi_input,o=this.$refs.js_fanyi_output,a=e.target,n=a.getAttribute("data-group");if(n){var i=o.querySelectorAll('.tgt[data-group="'+n+'"]');this._removeDomsClassByClassname(i,"highlight");var s=o.querySelectorAll('.src[data-group="'+n+'"]');this._removeDomsClassByClassname(s,"highlight");var r=o.querySelectorAll('.tgtPronounce[data-group="'+n+'"]');this._removeDomsClassByClassname(r,"highlight");var c=t.querySelectorAll('.src[data-group="'+n+'"]');this._removeDomsClassByClassname(c,"highlight"),this.checkTransSuggestTip(e,!0)}}function Ca(){const e=this.$refs.js_fanyi_input,t=this.$refs.js_fanyi_output,o=e.querySelectorAll(".highlight"),a=t.querySelectorAll(".highlight");this._removeDomsClassByClassname(o,"highlight"),this._removeDomsClassByClassname(a,"highlight")}function Ea(e,t){for(let o of e)o.classList.remove(t)}function xa(e,t){for(let o of e)o.classList.contains(t)||o.classList.add(t)}function Na(){var e=this.$refs.js_fanyi_input;e.innerHTML=this.sourceHightLightHtml,e.blur()}function Ba(){var e=window.getSelection(),t=e.getRangeAt(0);pa=t.startOffset,t.startContainer}function Va(){var e=this.$refs.js_fanyi_input;e.focus();var t=window.getSelection(),o=t.getRangeAt(0);o.setStart(o.startContainer,pa),o.collapse(!0)}function La(){var e=this,t=e.data.result.translateResult||[],o=[],a="selfInnovate";if(this.$store.state.domain.textTransDomainMap.forEach(t=>{t.str===e.domain&&(a="aigc"===t.from?"aigc":"selfInnovate")}),"selfInnovate"===a)this.showStepTrans?t.forEach((function(e){Za(e)&&e.forEach((function(e){"\n"!==e.tgt&&(o.push(e.tgt.trim()+"\n"),o.push(e.src.trim()+"\n\n"))}))})):t.forEach((function(e){Za(e)&&e.forEach((function(e){o.push(e.tgt)}))})),e.modified_data&&e.modified_data!=o.join("")&&(o=[],o.push(e.modified_data)),window.Clipboard.copy(o.join(""),e=>{e?this.$toast("复制成功"):this.$toast("复制失败")});else{let t=e.data.result.aigcResp;window.Clipboard.copy(t,e=>{e?this.$toast("复制成功"):this.$toast("复制失败")})}window.ydk&&window.ydk.rlog({action:"trans_copy_click",keyfrom:ia})}var Ha="en";function Da(e,t){"zh-CHS"!=e&&"zh-CHT"!=e||(e="zh"),Ha=e;var o=null;if(Xo.audio.indexOf(e)>-1){var a=this.genDictvoiceValidLength(t);o="https://dict.youdao.com/dictvoice?audio="+encodeURIComponent(a)+"&le="+e}return o}function Ra(e){if(e&&!(e.length<1)){var t=e;"object"==typeof e&&(t=e[0]);var o=200;return"pc"===this.platform&&(o=600),t.trim().substring(0,o)}}function Ia(e){window.ydk&&window.ydk.rlog({action:"trans_voice_query",keyfrom:ia,le:Ha,type:e})}function Fa(){var e="off";this.showStepTrans=!this.showStepTrans,e=this.showStepTrans?"on":"off",this.resetModifiedContent(),window.ydk&&window.ydk.rlog({action:"trans_copare_click",keyfrom:ia,type:e})}function Ua(e){var t=!1,o=/http(s)?:\/\/arxiv.org\/(abs|pdf|e-print)\//;return t=!!o.exec(e.toLowerCase()),t}function Ma(e){var t=!1,o=/^((http|https):\/\/)?([\w\d\.]+)(\.)(com|edu|gov|int|mil|net|org|biz|info|pro|name|museum|coop|aero|xxx|idv|al|dz|af|ar|ae|aw|om|az|eg|et|ie|ee|ad|ao|ai|ag|at|au|mo|bb|pg|bs|pk|py|ps|bh|pa|br|by|bm|bg|mp|bj|be|is|pr|ba|pl|bo|bz|bw|bt|bf|bi|bv|kp|gq|dk|de|tl|tp|tg|dm|do|ru|ec|er|fr|fo|pf|gf|tf|va|ph|fj|fi|cv|fk|gm|cg|cd|co|cr|gg|gd|gl|ge|cu|gp|gu|gy|kz|ht|kr|nl|an|hm|hn|ki|dj|kg|gn|gw|ca|gh|ga|kh|cz|zw|cm|qa|ky|km|ci|kw|cc|hr|ke|ck|lv|ls|la|lb|lt|lr|ly|li|re|lu|rw|ro|mg|im|mv|mt|mw|my|ml|mk|mh|mq|yt|mu|mr|us|um|as|vi|mn|ms|bd|pe|fm|mm|md|ma|mc|mz|mx|nr|np|ni|ne|ng|nu|no|nf|na|za|zq|aq|gs|eu|pw|pn|pt|jp|se|ch|sv|ws|yu|sl|sn|cy|sc|sa|cx|st|sh|kn|lc|sm|pm|vc|lk|sk|si|sj|sz|sd|sr|sb|so|tj|tw|th|tz|to|tc|tt|tn|tv|tr|tm|tk|wf|vu|gt|ve|bn|ug|ua|uy|uz|es|eh|gr|hk|sg|nc|nz|hu|sy|jm|am|ac|ye|iq|ir|il|it|in|id|uk|vg|io|jo|vn|zm|je|td|gi|cl|cf|cn)(\/[^\s]+)?(\/)?$/,a=/^((http|https):\/\/)?([1-9]|([1-9][0-9])|((1[0-9]{2})|(2(([0-4][0-9])|(5[0-5])))))\.([0-9]|([1-9][0-9])|((1[0-9]{2})|(2(([0-4][0-9])|(5[0-5])))))\.([0-9]|([1-9][0-9])|((1[0-9]{2})|(2(([0-4][0-9])|(5[0-5])))))\.([0-9]|([1-9][0-9])|((1[0-9]{2})|(2(([0-4][0-9])|(5[0-5])))))(\:\d+)?(\/[^\s]+)?(\/)?$/,n=/^http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- .\/?%&=]*)?$/;return t=!!o.exec(e.toLowerCase())||!!a.exec(e.toLowerCase())||!!n.exec(e.toLowerCase()),t}function $a(){this.clear(),window.ydk&&window.ydk.rlog({action:"trans_clear_click"})}function za(e=!0){var t=this;t.source.init.keyword="",t.data.result={},t.loading=!1,t.showClear=!1,t.orignTargetAudio="",t.showPlayVoice=!1,t.showCopyText=!1,t.targetAudioUrl=null,t.hasStepTrans=!1,t.showStepTrans=!1,t.showFeedbackButton=!1,t.contenteditable=!1,t.sourceHightLightHtml="",t.nums=0,e&&(t.$refs.js_fanyi_input.innerText="",t.$refs.js_fanyi_input.focus()),window.globalStopAudio(),t.$nextTick(()=>{t.cleanKeyWord&&t.cleanKeyWord(),t.updateDictResult(null),t.closeTransSuggestDialog(),t.$store.commit("ISPASTE_ORIGIN_TEXT",!1),t.$store.commit("FIRSTTWOORIGINTEXT","")})}function Ka(e=!1){var t=this;if(void 0!==t.data.result.type)for(var o in t.data.result)"type"!==o&&delete t.data.result[o];else t.data.result={};t.loading=!1,t.showCopyText=!1,t.targetAudioUrl=null,t.hasStepTrans=!1,t.showStepTrans=!1,t.showFeedbackButton=!1,t.contenteditable=!1,e&&(t.$refs.js_fanyi_input.innerText="",t.$refs.js_fanyi_input.focus()),window.globalStopAudio(),t.$nextTick(()=>{t.cleanKeyWord&&t.cleanKeyWord(),t.updateDictResult(null),t.closeTransSuggestDialog()})}function Pa(){this.hasStepTrans=!1,this.showFeedbackButton=!1,this.showCopyText=!1,this.orignTargetAudio="",this.targetAudioUrl=null,this.contenteditable=!1,this.updateDictResult(null),this.closeTransSuggestDialog()}function Wa(e){var t=e;if(t.indexOf("2")>0){var o=t.indexOf("2"),a=t.substring(0,o),n=t.substring(o+1);return{from:a,to:n}}}function qa(){let e=this,t=e.data.result.translateResult||[],o=e.data.result.type?Wa(e.data.result.type).to:e.source.init.to,a=[],n=!1;if("en"===o){t.forEach((function(e){Za(e)?e.forEach((function(e){a.push(e.tgt)})):a.push(e)})),e.modified_tgt.length>0&&e.modified_tgt!=Ga(a.join(""))&&(n=!0),e.modified_tgt&&(a=[],a.push(e.modified_tgt));var i=document.getElementById("js_fanyi_output_resultOutput");i&&""==i.textContent.trim()&&0==e.modified_tgt.length&&a.length>0&&(n=!0,a=[])}a=a.join("");const s={text:a||"",isModfiy:n};window.ydk&&window.ydk.showGrammarWnd({grammarParams:JSON.stringify(s),from:"fanyiTab"}),window.ydk&&window.ydk.rlog({action:"checkbitton_click",type:a.length<=0?"none":"character",from:"fanyitab"})}function Ga(e){return e=e.replace(/[\\\r\n]/g,""),e}function Qa(){let e=this.$refs.js_fanyi_input;e.focus();var t=window.getSelection();t.selectAllChildren(e),t.collapseToEnd()}function Za(e){return e instanceof Array}function Ya(e){for(var t=e.trim(),o=0,a=0;a<(t+"").length;a++){var n=t.charCodeAt(a);n>=1&&n<=126||65376<=n&&n<=65439?o++:o+=2}return o}function Xa(e){document.documentElement.style.setProperty("--text-translate-zoom-scale",e)}function Ja(){var e=this.$refs.sourceInsideActionbBar,t=this.$refs.fixedBottomActionBar;if(e){var o=e.getBoundingClientRect(),a=t.getBoundingClientRect();o.top>a.top?this.showFixBottomAction=!0:this.showFixBottomAction=!1}else this.showFixBottomAction=!1}function en(){this.updateActionVisiblity()}function tn(e){var t=e[0];t&&this.updateActionVisiblity()}function on(){"TextTranslate"===this.$route.name&&oa["a"].set(sa,this.source.init.keyword)}function an(){const e=oa["a"].get(sa);e&&""!==e.trim()&&(this.onChangeTrans({keyword:e,srcLang:this.source.init.from,dstLang:this.source.init.to,from:"localstorage",domain:this.domain}),oa["a"].remove(sa))}function nn(e,t,o){console.log("resetTextTranslateFromUrl"),this.onChangeTrans({keyword:e,srcLang:t,dstLang:"",from:o||"urlParams",domain:this.domain})}function sn(e){const t=document.getSelection();e.clipboardData.setData("text/plain",t.toString()),e.preventDefault(),window._rlog.push(["_trackCustom","event",[["action","text_translation_input"],["source","paste"]]])}function rn(){window._rlog.push(["_trackCustom","event",[["action","fanyiweb_AI_polish"]]]),na["a"].$emit("transFromMainPage",{sourceText:this.source.init.keyword}),this.$router.push({name:"AITranslate"}),this.$store.commit("UPDATE_SOURCE",this.source.init.keyword)}function cn(){let e=[];this.data.result.translateResult.forEach(t=>{t.forEach(t=>{e.push(t.tgt)})}),window._rlog.push(["_trackCustom","event",[["action","fanyiweb_AI_polish"]]]),na["a"].$emit("transFromMainPage",{sourceText:e.join("")}),this.$router.push({name:"AITranslate"}),this.$store.commit("UPDATE_SOURCE",e.join(""))}function ln(){if("auto"===this.source.init.from)return"en"===ba&&"zh-CHS"===fa||"zh-CHS"===ba&&"en"===fa?(this.ENandZHtrans=!0,this.$store.commit("ISWNANDZH",!0)):(this.ENandZHtrans=!1,this.$store.commit("ISWNANDZH",!1)),this.sourceLanguageIsNotZH="zh-CHS"!==ba,void(this.transLanguageIsNotZH="zh-CHS"!==fa);"en"===this.source.init.from&&"zh-CHS"===this.source.init.to||"zh-CHS"===this.source.init.from&&"en"===this.source.init.to?(this.ENandZHtrans=!0,this.$store.commit("ISWNANDZH",!0)):(this.ENandZHtrans=!1,this.$store.commit("ISWNANDZH",!1)),"zh-CHS"!==this.source.init.from?this.sourceLanguageIsNotZH=!0:this.sourceLanguageIsNotZH=!1,"zh-CHS"!==this.source.init.to?this.transLanguageIsNotZH=!0:this.transLanguageIsNotZH=!1}var dn=o("4260"),un={name:"placeholderMixin",data(){return{}},computed:{showPlaceholder(){return!(this.source.init.keyword&&""!==this.source.init.keyword.trim()||this.composing)}},methods:{placeholderClickHandler(){var e=this.$refs.js_fanyi_input;e&&e.focus()},pasteText(){},updateKeyWord(e){var t=document.getElementById("js_fanyi_input");t&&(t.innerText=e,t.dispatchEvent(new CustomEvent("input")),this.keepLastIndex())}}};const mn="isTextTranslateContrastAreaExpand";var hn={name:"contrastAreaControlMixin",data(){return{isContrastAreaExpand:!1}},computed:{isShowStepsWithContrastAreaExpand(){return this.isContrastAreaExpand&&this.showStepTrans}},methods:{toggleContrastAreaExpand(){var e=!this.isContrastAreaExpand;this.isContrastAreaExpand=e,oa["a"].set(mn,e.toString()),window.ydk&&window.ydk.rlog({action:"trans_copare_click",type:e?"on":"off"})}}};o("5b81");const gn=e=>{if(e.text&&""!=e.text.trim()){var t={text:e.text};e.lanFrom&&"auto"!==e.lanFrom&&(t.lang=pn(e.lanFrom)),e.lanTo&&"auto"!==e.lanTo&&(t.to=pn(e.lanTo)),Po["a"].getTextTranslateKeyword(t).then(t=>{0===t.code&&e.success(t)}).catch(t=>{e.fail(t)})}};function pn(e){return"zh-CHS"===e||"zh-CHT"===e?"zh":e}String.prototype.formatTranslateKeyword=function(){if(0==arguments.length)return this;for(var e=arguments[0],t=arguments[1],o=this,a=0;a<e.length;a+=1)o=o.replace(new RegExp("\\{\\{"+a+"\\}\\}","g"),`<span class="${t}"><abbr class="translate-keyword-origin">${e[a].origin}</abbr><em title="${e[a].explain}" class="translate-keyword-explain">${e[a].explain}</em></span>`);return o};var bn={name:"keywordMixin",data(){return{supportKeywordLangCombineList:["en2zh-CHS","zh-CHS2en","zh-CHT2en","en2zh-CHT","ja2zh-CHS","zh-CHS2ja","ko2zh-CHS","zh-CHS2ko"],hasShowTextTranslateKeywordTip:oa["a"].get("hasShowTextTranslateKeywordTip"),showKeyword:!1,keywordData:[],keywordContainerClassName:"translate-keyword-contianer",keywordHtml:""}},computed:{supportKeywordFunction(){return!(!this.data.result||""===this.data.result.type||"selfInnovate"!==this.domainType)&&this.supportKeywordLangCombineList.indexOf(this.data.result.type)>-1},dictResult(){return this.$store.state.text.dictResult},disableKeywordFunction(){return"{}"!==JSON.stringify(this.dictResult)}},methods:{fetchKeyword(e){gn({text:e,lanFrom:this.source.init.from,lanTo:this.source.init.to,success:e=>{0==e.code&&(this.keywordData=e.data,this.$nextTick(()=>{this.keywordHtml=this.genSentencesWithKeywordByTranslateResult()}))},fail:e=>{}})},genSentencesWithKeywordByTranslateResult(){var e=this.data.result.translateResult||[],t="",o=0;return e.forEach((e,a)=>{e.forEach((e,n)=>{e["src"]=e["src"].replace(/</g,"&lt;").replace(/>/g,"&gt;"),t+=`<span spellcheck="false" class='src' data-start-index='${o}' data-group='${a}-${n}'>${this._combineWithKeyword(e["src"])}</span>`,o+=e["src"].length}),o+=1}),t},_combineWithKeyword(e){if(this.keywordData.length<1)return e;for(var t=e,o=0;o<this.keywordData.length;o+=1){var a=this.keywordData[o].origin,n=new RegExp(a,"gi");t=t.replaceAll(n,"{{"+o+"}}")}t=t.formatTranslateKeyword(this.keywordData,this.keywordContainerClassName);return t},_keywordAlign(){var e=document.getElementsByClassName(this.keywordContainerClassName);this.data.result.translateResult&&this.keywordData.length>0&&e.length>0&&Array.prototype.forEach.call(e,(e,t)=>{let o=0,a=Array.prototype.slice.call(e.childNodes);a.forEach((e,t)=>{var a=e.offsetWidth||e.clientWidth;o=Math.max(a,o)}),e.style.width=o+"px"})},insertSourceArea(){if(!this.showKeyword||this.keywordData.length<1||""==this.keywordHtml.trim(""))return this.$toast("当前文本暂无识别出重点词汇"),void setTimeout(()=>{this.showKeyword=!1},500);var e=this.$refs.js_fanyi_input;e&&(e.innerHTML=this.keywordHtml,e.blur(),this._keywordAlign())},cleanKeyWord(){this.keywordData=[],this.keywordHtml="",this.showKeyword=!1},hideKeyword(){this.showKeyword=!1},showTextTranslateKeywordTipHandler(){this.hasShowTextTranslateKeywordTip||(this.$toast("关闭重点词汇开关可继续编辑原文"),this.hasShowTextTranslateKeywordTip=!0,oa["a"].set("hasShowTextTranslateKeywordTip","true"))},spaceForbidListener(e){if(32==e.keyCode)return e.preventDefault()}},watch:{showKeyword:{handler:function(e){e?(this.showTextTranslateKeywordTipHandler(),this.insertSourceArea()):this.insertHighLightHtmlToSource&&this.insertHighLightHtmlToSource(),window.ydk&&window.ydk.rlog({action:"trans_keywords",type:e?"on":"off"})}}}},fn={name:"languageMixin",data(){return{useAllDomain:!0}},computed:{allowDomainLanguageCombineList(){return this.$store.state.domain.allowDomainLanguageCombineList},languageCombineFromUserSelected(){return`${this.source.init.from}2${this.source.init.to}`},languageFromUserSelectedWhenAuto(){return"auto"===this.source.init.from?this.data.result.type:null},allowDomain(){var e=this.allowDomainLanguageCombineList.indexOf(this.languageCombineFromUserSelected)>-1,t=this.languageFromUserSelectedWhenAuto&&this.allowDomainLanguageCombineList.indexOf(this.languageFromUserSelectedWhenAuto)>-1;return!!e||!!t},rtlLanguageList(){return this.$store.state.language.rtlLanguageList},sourceDir(){let e="ltr";if(this.rtlLanguageList.indexOf(this.source.init.from)>-1)e="rtl";else if(this.languageFromUserSelectedWhenAuto){const t=this.languageFromUserSelectedWhenAuto.split("2");t[0]&&this.rtlLanguageList.indexOf(t[0])>-1&&(e="rtl")}return e},targetDir(){return this.rtlLanguageList.indexOf(this.source.init.to)>-1?"rtl":"ltr"}},methods:{onLangSelectorChangeCallback(e){this._onTransLangChanged({lanFrom:e.lanFromModel.code,lanTo:e.lanToModel.code})},updateDomainAfterLanguageChange:dn["a"].debounce((function(){this.allowDomain||(this.domain&&"0"!=this.domain&&"auto"!=this.source.init.from&&this.$toast("当前语言仅支持通用领域"),this.domain="0")}),10)},watch:{languageCombineFromUserSelected:{handler:function(e){this.updateDomainAfterLanguageChange()}},languageFromUserSelectedWhenAuto:{handler:function(e){this.updateDomainAfterLanguageChange()}}}},jn="domain_in_translate_text",On="temp_domain_in_translate_text",kn={name:"domainMixin",data(){return{}},computed:{isLogin(){return this.$store.state.login.isLogin},domainLabel(){return"textTran"===this.domainUseType?this.$store.getters.getTextDomainLabelByValue(this.domain):this.$store.getters.getDomainLabelByValue(this.domain)}},methods:{onDomainSelectorChangeCallback(e){this.isLogin||"0"==e.domain?(this.domain=e.domain,this.hideKeyword(),"aigc"!==e.from?this.search({needAddHistroy:!0,from:"changeDomain",needSendLog:!0}):this.clearTrans()):this.gotoLoginPage(e.domain)},initDomainFromLS(){var e=oa["a"].get(""+On),t=oa["a"].get(""+jn);null!==e&&this.isLogin?this.domain=e:this.domain=null!==t?t:"0",oa["a"].remove(On)},setDomainToLS(e){oa["a"].set(""+jn,e)},gotoLoginPage(e){oa["a"].set(""+On,e),na["a"].$emit("saveTextTranslateContentToLS");const t=encodeURIComponent(window.location.href);window.location.href="https://c.youdao.com/common-login-web/index.html?redirect_url="+t}},watch:{domain:{handler:function(e){this.setDomainToLS(e)}},isLogin:{handler:function(e){e||(this.domain="0")},immediate:!0}}},yn=(o("106d"),o("1c46")),vn=o.n(yn);let wn=null;const An="fanyideskweb",Tn="R4B#{3qFI@3ARN6I)w3#N";function _n(e){return vn.a.createHash("md5").update(e.toString()).digest("hex")}function Sn(e){const t=_n(navigator.appVersion),o=""+(new Date).getTime(),a=o+parseInt(10*Math.random(),10),n=_n(An+e+a+Tn);return{ts:o,bv:t,salt:a,sign:n}}const Cn=e=>{wn&&wn.cancel("");const t=Sn(e.i),o=qo["a"].CancelToken;return wn=o.source(),qo["a"].post("https://fanyi.youdao.com/bbk/translate_m.do",Object(Ko["a"])(Object(Ko["a"])({},e),{},{client:An,salt:t.salt,sign:t.sign,ts:t.ts,bv:t.bv,doctype:"json",version:"3.0",cache:!0}),{cancelToken:wn.token,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})};var En={getTextTranslateMultipleResult:Cn};let xn,Nn;var Bn={name:"multipleResultMixin",data(){return{transSuggestList:[],transSuggestDialogVisible:!1,transSuggestRelativeEl:null}},mounted(){document.body.addEventListener("click",this.multipleResultModalClickEventHandler,!0)},beforeDestroy(){document.body.removeEventListener("click",this.multipleResultModalClickEventHandler,!0)},computed:{supportTransSuggest(){var e=this.allowDomainLanguageCombineList.indexOf(this.languageCombineFromUserSelected)>-1,t=this.languageFromUserSelectedWhenAuto&&this.allowDomainLanguageCombineList.indexOf(this.languageFromUserSelectedWhenAuto)>-1;return!this.showStepTrans&&(!!e||!!t)},transSuggestRequestLang(){let e=this.source.init.from,t=this.source.init.to;if("auto"===e&&this.data.result.type){const o=this.data.result.type.split("2");e=o[0],t=o[1]}return{from:e,to:t}}},methods:{_clearTransSuggestTipTimeout(){Nn&&clearTimeout(Nn)},checkTransSuggestTip(e,t=!1){if(t)return this._clearTransSuggestTipTimeout(),xn&&xn.parentNode.removeChild(xn),void(xn=null);if(!this.supportTransSuggest)return;this._clearTransSuggestTipTimeout();const o=e.currentTarget;Nn=setTimeout(()=>{this.showTransSuggestTip(o)},1e3)},showTransSuggestTip(e){const t=e.getBoundingClientRect();xn=document.createElement("div"),xn.setAttribute("class","transSuggestTip"),xn.style.zIndex=10,document.body.appendChild(xn),this.$nextTick(()=>{var e=t.left-xn.offsetWidth/2+t.width/2,o=t.top-xn.offsetHeight;xn.style.left=e+"px",xn.style.top=o+"px",xn.style.opacity=1})},singleTgtClickHandler(e,t,o,a){this.checkTransSuggestTip(e,!0),this.showTransSuggest(e,t,o,a),this.transSuggestRelativeEl=e.target,this.setSentenceEditable(e)},_genJaTargetContentWithoutPjm(e){if(!e.currentTarget)return;var t=/<(strong)(?=[\s>])[\w\W]*?<\/\1\s*>/gi,o=/<[^>]+>/gi,a=e.currentTarget.outerHTML;let n=a.replace(t,""),i=n.replace(o,"");return i.split("\r\n")},singleTgtInputHandler(e,t,o,a){if(!e.target.composing)if(this.data.result.type&&this.data.result.type.indexOf("2ja")>-1&&this.showPjm){const t=this._genJaTargetContentWithoutPjm(e);this.updateTargetText(t.join(""),o,a,e.target.innerText,e.target.dataset.pjm_index)}else this.updateTargetText(e.currentTarget.innerText,o,a)},_removeSameSentence(e,t){let o=[];return t.forEach(t=>{t.tgt.trim()!==e.trim()&&o.push(t)}),o},showTransSuggest(e,t,o,a){const n=e.target;n!==this.transSuggestRelativeEl&&(this.closeTransSuggestDialog(),this.supportTransSuggest&&En.getTextTranslateMultipleResult({i:t[a].src,tgt:t[a].tgt,from:this.transSuggestRequestLang.from,to:this.transSuggestRequestLang.to}).then(e=>{const o=e.data;if(""==n.textContent.trim())return;if(!o.translateResult||!o.translateResult.length)return;const i=this._removeSameSentence(t[a].tgt,o.translateResult);i.length<1||(this.transSuggestList=i,this.transSuggestDialogVisible=!0)}))},setSentenceEditable(e){e.target.classList.contains("pjm-top")||(this._addDomsClassByClassname([e.target],"will-update"),e.target.setAttribute("contenteditable","plaintext-only"))},removeSentenceEditable(){if(!this.$refs.js_fanyi_output)return;const e=this.$refs.js_fanyi_output.querySelectorAll(".will-update");for(let t of e)t.classList.remove("will-update"),t.removeAttribute("contenteditable")},closeTransSuggestDialog(){this.transSuggestDialogVisible&&(this.transSuggestDialogVisible=!1,this.transSuggestRelativeEl=null,this.transSuggestList=[],this.removeSentenceEditable())},selectSuggestHandler(e){if(!this.transSuggestRelativeEl)return;const t=this.transSuggestRelativeEl.dataset.section,o=this.transSuggestRelativeEl.dataset.sentence;this.updateTargetText(e.tgt,t,o),this.closeTransSuggestDialog();let a=this.data.result.originTranslateResult[t][o];window._rlog.push(["_trackCustom","event",[["action","SELECT_OTHER_TRANSLATION"],["i",a.src],["tgt",a.tgt],["selectedTgt",e.tgt],["from",this.transSuggestRequestLang.from],["to",this.transSuggestRequestLang.to],["systemName",e.systemName]]])},updateTargetText(e,t,o,a="",n=-1){let i=this.data.result.translateResult[t][o];i&&(-1!=n&&""!==a&&i.jaTransPjm&&(i.jaTransPjm[n].word=a),i.tgt=e,this.$nextTick(()=>{this.updateTargetAudioUrl()}))},multipleResultModalClickEventHandler(e){const t=document.querySelector(".TransSuggestDialog"),o=t&&t.contains(e.target),a=this.transSuggestRelativeEl&&this.transSuggestRelativeEl.contains(e.target);t?!o&&!a&&this.closeTransSuggestDialog():!a&&this.removeSentenceEditable()},updateTargetAudioUrl(){let e=null,t=null;if("auto"==this.source.init.from&&!this.source.init.to&&this.data.result.type){var o=this.data.result.type;if(o.indexOf("2")>0){var a=o.indexOf("2"),n=o.substring(0,a),i=o.substring(a+1);e=n,t=i}}const s=this.data.result.translateResult||[];let r="";s.forEach(e=>{e.forEach(e=>{r+=e.tgt})}),r?("auto"==this.source.init.from&&!this.source.init.to&&t?this.targetAudioUrl=this.updateAudio(t,r):this.targetAudioUrl=this.updateAudio(this.source.init.to||this.source.init.from,r),this.showCopyText=!0):(this.targetAudioUrl=null,this.showCopyText=!1)}}},Vn=o("2caa"),Ln=o("1a09"),Hn=o.n(Ln);const Dn=e=>(Object(i["pushScopeId"])("data-v-215607e2"),e=e(),Object(i["popScopeId"])(),e),Rn={class:"feedbackBox"},In={class:"tittle"},Fn=Dn(()=>Object(i["createElementVNode"])("div",null,"翻译质量反馈",-1)),Un=Dn(()=>Object(i["createElementVNode"])("img",{src:Hn.a,alt:""},null,-1)),Mn=[Un],$n=Dn(()=>Object(i["createElementVNode"])("div",{class:"err_tittle_ch"},"错误类型",-1)),zn={class:"err_type_box"},Kn=["name","onClick"],Pn={class:"item"},Wn={key:0,class:"otherBox"},qn=Dn(()=>Object(i["createElementVNode"])("div",{class:"err_tittle_ch common_tittle"},"建议译文（非必填）",-1)),Gn={class:"text_length_position"},Qn={class:"text_length"},Zn={class:"submit_box"};function Yn(e,t,o,a,n,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Rn,[Object(i["createElementVNode"])("div",In,[Fn,Object(i["createElementVNode"])("i",{class:"ico_close_ch",onClick:t[0]||(t[0]=(...e)=>s.closeDialog&&s.closeDialog(...e))},Mn)]),$n,Object(i["createElementVNode"])("span",zn,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(n.arrlyList,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"item",key:t},[Object(i["createElementVNode"])("input",{type:"radio",name:e.value,id:"",onClick:t=>s.pushTypeN(t,e)},null,8,Kn),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.value),1)]))),128)),Object(i["createElementVNode"])("div",Pn,[Object(i["createElementVNode"])("input",{type:"radio",name:"err_type",id:"",value:"其他",onClick:t[1]||(t[1]=e=>s.pushType(e))}),Object(i["createTextVNode"])(" 其他 ")])]),n.containOther?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Wn,[Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{class:"other_err_type","onUpdate:modelValue":t[2]||(t[2]=e=>n.other_err_type=e),type:"text",placeholder:"请输入错误类型",maxlength:"10"},null,512),[[i["vModelText"],n.other_err_type]])])):Object(i["createCommentVNode"])("",!0),qn,Object(i["withDirectives"])(Object(i["createElementVNode"])("textarea",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.comments=e),class:"coments_input_area",placeholder:"请在此输入建议译文",maxlength:"200",name:"",id:"",cols:"30",rows:"10"},"\n    ",512),[[i["vModelText"],n.comments]]),Object(i["createElementVNode"])("div",Gn,[Object(i["createElementVNode"])("div",Qn,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(n.comments.length+"/")+" ",1),Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])({has_comments_length:n.comments.length>190})},"200",2)])]),Object(i["createElementVNode"])("div",Zn,[Object(i["createElementVNode"])("button",{class:Object(i["normalizeClass"])(["submit_button",{has_comments:s.err_type||n.containOther&&n.other_err_type}]),onClick:t[4]||(t[4]=(...e)=>s.submit&&s.submit(...e))},"提交反馈",2)])])}var Xn={name:"FeedbackDialog",props:{result:{type:String},dialogVis:{type:Boolean}},data(){return{comments:"",other_err_type:"",isSubmit:!1,arrlyList:[{value:"漏译多译",isSelect:!1},{value:"用词不当",isSelect:!1},{value:"语法有误",isSelect:!1},{value:"翻译不地道",isSelect:!1},{value:"格式不规范",isSelect:!1}],arrResult:[],containOther:!1,isSelectOther:!1}},methods:{pushType(e){this.containOther?(e.target.checked=!e.target.checked,this.containOther=!1,this.$emit("bigSize","452px")):(this.containOther=e.target.checked,this.$emit("bigSize","506px"))},pushTypeN(e,t){t.isSelect?(e.target.checked=!e.target.checked,t.isSelect=!1,this.arrResult.forEach((e,o)=>{e===t.value&&this.arrResult.splice(o,1)})):(t.isSelect=e.target.checked,this.arrResult.push(t.value))},submit(){this.$emit("unSubmit"),this.isSubmit=!0,(this.err_type||this.containOther)&&(this.err_type||!this.containOther||this.other_err_type)&&(this.containOther?Po["a"].feedback(`${this.result}【错误类型】:${this.err_type}【其他】:${this.other_err_type};【建议译文】:${this.comments};`).then(e=>{this.$toast("反馈成功!"),this.$emit("closeDialog",[this.comments,this.other_err_type])}).catch(e=>{this.$toast("反馈失败!")}):Po["a"].feedback(`${this.result}【错误类型】:${this.err_type}【建议译文】:${this.comments};`).then(e=>{this.$toast("反馈成功"),this.$emit("closeDialog",[this.comments,this.err_type]),console.log(this.err_type,"err_type")}).catch(e=>{this.$toast("反馈失败!")}))},closeDialog(){this.$emit("closeDialog",[this.comments,this.err_type])}},computed:{err_type(){let e="";return this.arrResult.forEach(t=>e+=t.replace(" ","")+";"),e}}};o("dd63");const Jn=g()(Xn,[["render",Yn],["__scopeId","data-v-215607e2"]]);var ei=Jn;let ti=!1,oi=!1;var ai={name:"TextTranslateCore",props:{direction:{type:String,default:"horizontal"},active:{type:Boolean,default:!0}},components:{LanguageSelector:Ne["a"],DomainSelector:xe["a"],VoicePlayer:n["a"],TransSuggestDialog:Ee,Dialog:Vn["a"],FeedBackDialog:ei},mixins:[un,hn,bn,fn,kn,Bn],data(){return{composing:!1,loading:!1,needRealTimeSearch_flag:!0,source:{init:{keyword:"",from:"",to:"",seq:0}},domain:"",domainName:"",domainType:"selfInnovate",data:{result:{}},modified_data:"",modified_tgt:"",showClear:!1,showPlayVoice:!1,showCopyText:!1,targetAudioUrl:null,hasStepTrans:!1,showStepTrans:!1,showFeedbackButton:!1,contenteditable:!1,hasHighlighted:!1,nums:0,maxLimitnNums:5e3,maxLimitnNumsForRed:4950,chatGptMaxLimitnNums:500,chatGptMaxLimitnNumsForRed:490,bigSizeLimitNums:52,isMaxLimitnNums:!1,targetNums:0,fontSize:"small",orignTargetAudio:null,sourceHightLightHtml:"",showFixBottomAction:!1,throttleScrollAreaListener:dn["a"].throttle(this.scrollAreaListener.bind(this),10),containerHeightObserver:null,throttleUpdateActionVisiblity:dn["a"].throttle(this.updateActionVisiblity.bind(this),100),saveTextTranslateToLS:this.saveTextTranslateToLSHandler.bind(this),isShow:!1,isSelect:!1,dialogSize:"452px",isHover:!1,isHover_left:!1,showNumsTips:!1,domainUseType:"textTran",feedbackComments:"",feedbackErrorType:"",ENandZHtrans:!0,sourceLanguageIsNotZH:!1,transLanguageIsNotZH:!1}},computed:{dislikeTxt(){return"dislike"===this.isSelect?"已选择不喜欢该翻译":"不喜欢该翻译"},likeTxt(){return"like"===this.isSelect?"已选择喜欢该翻译":"喜欢该翻译"},curZoom(){return 1},platfrom(){return"web"},overBigSizeLimitNums(){return this.getStringNum(this.source.init.keyword)>=this.bigSizeLimitNums},inputSpellcheck(){return"en"==this.source.init.from},showPjm(){return this.$store.state.text.showPjm},showRomanPronunciation(){return this.$store.state.text.showRomanPronunciation},showWordsNumber(){var e=this.$store.state.text.showWordsNumber;return!!e||this.nums>=this.maxLimitnNumsForRed},submitResult(){return"selfInnovate"===this.domainType?`【原文】:${this.data.result.originTranslateResult[0][0].src};【当前机翻结果】:${this.data.result.originTranslateResult[0][0].tgt};【语种信息】:${this.data.result.type} ;【领域信息】:${this.domainLabel}; `:`【原文】:${this.source.init.keyword};【当前机翻结果】:${this.data.result.aigcResp};【语种信息】:${this.source.init.from+"2"+this.source.init.to} ;【领域信息】:${this.domainLabel}; `}},filters:{unescapeFilter:function(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&nbsp;/g," ").replace(/\n+/g,"\n")}},watch:{domain:{handler(e){e&&setTimeout(()=>{const t=this.$store.state.domain.textTransDomainMap.some(t=>t.str===e&&(this.domainType="aigc"===t.from?"aigc":"selfInnovate",this.domainName=t.msg,!0));window._rlog.push(["_trackCustom","event",[["action","scene_select"],["setting",this.domainName]]]),t||(this.domain="0")},500)},immediate:!0,deep:!0},"source.init.keyword":dn["a"].debounce((function(){var e="realtime";if(oi?e="paste":ti&&(e="enter"),this.needRealTimeSearch_flag)if("selfInnovate"===this.domainType)this.search({needAddHistroy:ti||oi,from:e,needSendLog:this.needRealTimeSearch_flag});else{if(!this.source.init.keyword.trim())return void this.clear(!1);if(this.showClear=!0,this.nums=this.source.init.keyword.trim().length,this.showPlayVoice=!0,this.source.init.keyword){let e=this.source.init.keyword;this.orignTargetAudio=this.updateAudio(this.source.init.from||this.source.init.to,e)}else this.orignTargetAudio=null}this.isSelect="",this.dialogSize="452px",this.isWriteComment=!1,""!=this.source.init.keyword?this.$emit("showDownloadButton",!0):this.$emit("showDownloadButton",!1),ti=!1,oi=!1,this.needRealTimeSearch_flag=!0}),500),nums:{immediate:!0,handler:function(e){e>this.maxLimitnNums?this.isMaxLimitnNums=!0:this.isMaxLimitnNums=!1}},active:{handler:function(e){e&&this.keepLastIndex()},immediate:!1},direction:{handler:function(e){this.keepLastIndex()},immediate:!1},"data.result.translateResult":{handler:function(){this.$nextTick(()=>{this.updateActionVisiblity()})}},showStepTrans:{handler:function(){this.$nextTick(()=>{this.updateActionVisiblity()})}},isShow:{handler:function(e){e||this.sendDisLikeFeedToMissHuang("dislike")}}},directives:{focus:{inserted:function(e){e.focus()}}},methods:Object(Ko["a"])(Object(Ko["a"])({},a),{},{inputEnterHandler(e){ti=!0},onSourcePasteHandler(e){oi=!0,this.pasteHandler(e),window._rlog.push(["_trackCustom","event",[["action","text_translation_input"],["source","paste"]]])},rengongTranslateButtonClickHandler(){window.open("https://f.youdao.com/?vendor=new-fanyifollow","_blank")},feedbackButtonClickHandler(){this.isShow=!0},closeDialogHandler(e){this.feedbackComments=e[0],this.feedbackErrorType=e[1],this.isShow=!1,this.isWriteComment||(this.isSelect="")},sendDisLikeFeedToMissHuang(e){let t=[];if("selfInnovate"===this.domainType){let o=[],a=[];this.data.result.translateResult.forEach(e=>{e.forEach(e=>{o.push(e.tgt),a.push(e.src)})}),t={src:a.join(""),tgt:o.join(""),from:this.data.result.type.split(/[2]/)[0],to:this.data.result.type.split(/[2]/)[1],action:"dislike"===e?"bad":"good",domain:this.domainLabel,errorType:this.feedbackErrorType||"",details:this.feedbackComments||""},window._rlog.push(["_trackCustom","event",[["action","dislike"===e?"translation_result_unlike":"translation_result_like "],["from",this.data.result.type.split(/[2]/)[0]],["to",this.data.result.type.split(/[2]/)[1]],["setting",this.domainLabel]]])}else t={src:this.source.init.keyword,tgt:this.data.result.aigcResp,from:this.source.init.from,to:this.source.init.to,action:"dislike"===e?"bad":"good",domain:this.domainLabel,errorType:this.feedbackErrorType||"",details:this.feedbackComments||""},window._rlog.push(["_trackCustom","event",[["action","dislike"===e?"translation_result_unlike":"translation_result_like "],["from",this.source.init.from],["to",this.source.init.to],["setting",this.domainLabel]]]);Po["a"].fanyiFeedback(t).then(e=>{console.log("res",e)})},handleButton(e){if(!this.isSelect){let t=[];if("selfInnovate"===this.domainType){this.isSelect=e;let o=[],a=[];this.data.result.translateResult.forEach(e=>{e.forEach(e=>{o.push(e.tgt),a.push(e.src)})}),t={src:a.join(""),tgt:o.join(""),from:this.data.result.type.split(/[2]/)[0],to:this.data.result.type.split(/[2]/)[1],action:"dislike"===e?"bad":"good",domain:this.domainLabel},window._rlog.push(["_trackCustom","event",[["action","dislike"===e?"translation_result_unlike":"translation_result_like "],["from",this.data.result.type.split(/[2]/)[0]],["to",this.data.result.type.split(/[2]/)[1]],["setting",this.domainLabel]]])}else this.isSelect=e,t={src:this.source.init.keyword,tgt:this.data.result.aigcResp,from:this.source.init.from,to:this.source.init.to,action:"dislike"===e?"bad":"good",domain:this.domainLabel},window._rlog.push(["_trackCustom","event",[["action","dislike"===e?"translation_result_unlike":"translation_result_like "],["from",this.source.init.from],["to",this.source.init.to],["setting",this.domainLabel]]]);"dislike"===e?this.feedbackButtonClickHandler():Po["a"].fanyiFeedback(t).then(e=>{console.log("res",e)})}},changeSize(e){this.dialogSize=e},changeSelect(){this.isWriteComment=!0}}),created(){this.$store.dispatch("fetchTextTranslateSecretKey")},activated(){this.keepLastIndex()},mounted(){var e=this;setTimeout(()=>{const e=dn["a"].getUrlParams(window.location.href);e.i?this.resetTextTranslateFromUrl(e.i,"auto",e.keyfrom):(this.initDomainFromLS(),this.resetTextTranslateFromLS()),e.keyfrom&&window._rlog.push(["_trackCustom","event",[["keyfrom",e.keyfrom]]])},500),na["a"].$on("saveTextTranslateContentToLS",this.saveTextTranslateToLS),e.keepLastIndex(),window.addEventListener("scroll",this.throttleScrollAreaListener),window.addEventListener("resize",this.throttleUpdateActionVisiblity),this.containerHeightObserver=new ResizeObserver(dn["a"].throttle(this.containerHeightObserverCallback,100)),this.containerHeightObserver.observe(this.$refs.js_fanyi_input)},beforeDestroy(){window.removeEventListener("scroll",this.throttleScrollAreaListener),window.removeEventListener("resize",this.throttleUpdateActionVisiblity),this.containerHeightObserver.disconnect(),na["a"].$off("saveTextTranslateContentToLS",this.saveTextTranslateToLS)}};o("df88");const ni=g()(ai,[["render",zo]]);var ii=ni,si=o("2189"),ri=o.n(si),ci=o("0887"),li=o.n(ci),di=o("580e"),ui=o.n(di);const mi=e=>(Object(i["pushScopeId"])("data-v-2ac84182"),e=e(),Object(i["popScopeId"])(),e),hi={key:0,class:"bottom-area"},gi={class:"bottom-area-flex-item"},pi=mi(()=>Object(i["createElementVNode"])("div",{class:"bottom-area-flex-item"},null,-1)),bi={class:"box_ch"},fi={key:0,class:"download_ch"},ji=mi(()=>Object(i["createElementVNode"])("img",{class:"sign",src:ri.a,alt:""},null,-1)),Oi=mi(()=>Object(i["createElementVNode"])("img",{class:"ico_close_ch",src:li.a,alt:""},null,-1)),ki=[Oi],yi={class:"ai-trans-guide"},vi={class:"header"},wi=mi(()=>Object(i["createElementVNode"])("div",{class:"guide-title"},"AI翻译",-1)),Ai=mi(()=>Object(i["createElementVNode"])("div",{class:"guide-desc"},"为你提供母语级高精翻译结果，并支持继续润色～",-1)),Ti={key:0,class:"guide-loading",src:ui.a,alt:""},_i={key:1,class:"guide-content"},Si={key:2,class:"operation"},Ci=mi(()=>Object(i["createElementVNode"])("div",{class:"guide-button"},"免费体验",-1)),Ei=[Ci];function xi(e,t,o,a,n,s){const r=ii,c=je;return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createVNode"])(r,{onShowDownloadButton:a.show},null,8,["onShowDownloadButton"]),a.displayBottomArea?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",hi,[Object(i["createElementVNode"])("div",gi,[Object(i["createVNode"])(c,{data:a.dictResult},null,8,["data"])]),pi])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",bi,[a.showDownLoad&&a.showD&&!a.displayBottomArea?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",fi,[ji,Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])(["text",{margin_big:"Mac"===a.macOrWindow}])}," 使用网易有道翻译 "+Object(i["toDisplayString"])(a.macOrWindow)+"版提高你的工作效率",3),Object(i["createElementVNode"])("div",{class:"download_buttton",onClick:t[0]||(t[0]=(...e)=>a.downLoad&&a.downLoad(...e))},"免费下载"),Object(i["createElementVNode"])("div",{class:"ico_close_box",onClick:t[1]||(t[1]=(...e)=>a.closeDownLoad&&a.closeDownLoad(...e))},ki)])):Object(i["createCommentVNode"])("",!0)]),a.isENandZH&&a.isInsertFromPaste&&!a.displayBottomArea&&a.isShowFromLocalTotal&&a.isShowFromPort?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:1,class:"box_ai",onClick:t[2]||(t[2]=(...e)=>a.clickGuide&&a.clickGuide(...e))},[Object(i["createElementVNode"])("div",yi,[Object(i["createElementVNode"])("div",vi,[wi,Ai,""===a.aiTransGuideBoxText?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",Ti)):Object(i["createCommentVNode"])("",!0),""!==a.aiTransGuideBoxText?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",_i,Object(i["toDisplayString"])(a.aiTransGuideBoxText),1)):Object(i["createCommentVNode"])("",!0),""!==a.aiTransGuideBoxText?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Si,Ei)):Object(i["createCommentVNode"])("",!0)])])])):Object(i["createCommentVNode"])("",!0)],64)}var Ni=o("5502"),Bi=o("6605"),Vi=o("85ff"),Li=o("2ef0"),Hi=o.n(Li);let Di=null;var Ri={name:"TextTranslate",components:{TextTranslateCore:ii,DictResult:je},setup(){const e=Object(Bi["e"])(),t=Object(Ni["c"])(),o=Object(i["computed"])(()=>t.state.text.dictResult),a=Object(i["computed"])(()=>t.state.text.isENandZH),n=Object(i["computed"])(()=>t.state.text.isInsertFromPaste),s=Object(i["computed"])(()=>t.state.text.firstTwoOriginText),r=Object(i["computed"])(()=>t.state.text.homeOriginText),c=Object(i["computed"])(()=>"{}"!==JSON.stringify(o.value)),l=Object(i["ref"])(""),{protocol:d}=window.location,u=Object(i["ref"])(!0),m=Object(i["getCurrentInstance"])(),h=m.appContext.config.globalProperties.$cookies,g=Object(i["ref"])(!1),p=Object(i["ref"])(""),b=Object(i["ref"])(!1),f=Object(i["ref"])(!1),j=Object(i["ref"])(0);function O(e){const{data:t}=e,o=t;p.value+=(null===o||void 0===o?void 0:o.translation)||""}async function k(e){const t={i:encodeURIComponent(e),token:localStorage.getItem("ydtoken"),reqType:1};Di=new AbortController;const{signal:o}=Di;await Vi["a"].fetchSSEMethod(t,o,O)}function y(){Vi["a"].getLargeModelGuideInfo().then(e=>{b.value=e.data.show,j.value=e.data.total,null===localStorage.getItem("showGuideTotal")?(localStorage.setItem("showGuideTotal",j.value),f.value=!0):localStorage.getItem("showGuideTotal")>0?f.value=!0:f.value=!1})}const v=Hi.a.debounce((e,t,o,a)=>{e.value&&t.value&&!o.value&&a.value&&b.value&&f.value&&(localStorage.getItem("showGuideTotal")>0?(k(a.value),window._rlog.push(["_trackCustom","event",[["show","fanyiweb_AI_translate_guide"]]]),localStorage.setItem("showGuideTotal",localStorage.getItem("showGuideTotal")-1)):f.value=!1)},1e3);Object(i["watch"])(()=>t.state.text.firstTwoOriginText,()=>{p.value=""}),Object(i["watch"])(()=>t.state.text.isInsertFromPaste,e=>{e||(p.value="")}),Object(i["watch"])([()=>a,()=>n,()=>c,()=>s],([e,t,o,a])=>{v(e,t,o,a)},{deep:!0}),Object(i["onMounted"])(()=>{y(),window._rlog.push(["_trackCustom","event",[["show","text_translation"]]]),dn["a"].isMac()?l.value="Mac":l.value="Windows",null!==h.get("download_cookie")&&(u.value=!1)});const w=()=>{window._rlog.push(["_trackCustom","event",[["action","fanyiweb_AI_translate_guide"]]]),na["a"].$emit("tryGuide",{originText:r.value,functionId:-1,isFree:!0}),e.push({name:"AITranslate",params:{originText:r.value}}),t.commit("UPDATE_SOURCE",r.value),t.commit("UPDATE_GUIDEFREETIMES",1)},A=()=>{const e=dn["a"].isMac()?"https://codown.youdao.com/cidian/download/MacDict_fanyiweb_below.dmg":"https://download.ydstatic.com/cidian/YoudaoDict_fanyiweb_below.exe";dn["a"].downloadFile(e)},T=()=>{u.value=!1,h.set("download_cookie",!0,86400)},_=e=>{g.value=e};return{clickGuide:w,dictResult:o,displayBottomArea:c,macOrWindow:l,downLoad:A,showDownLoad:u,closeDownLoad:T,show:_,showD:g,aiTransGuideBoxText:p,isENandZH:a,isInsertFromPaste:n,firstTwoOriginText:s,isShowFromLocalTotal:f,isShowFromPort:b}}};o("3bde");const Ii=g()(Ri,[["render",xi],["__scopeId","data-v-2ac84182"]]);t["default"]=Ii},"5f60":function(e,t,o){},"5fc7":function(e,t,o){"use strict";o("4ce9")},"65c6":function(e,t,o){},"66e4":function(e,t,o){"use strict";o("5f60")},6859:function(e,t,o){},"79ea":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFlSURBVHgBvVRbTsJQED3TED+MJiyBHYA76LcRZAm6Agor6AqkrEDdARH+6RJ0BcAO8NePO54pt6GmhEptnGSYO3DvmTMvgIZF8sNdpCHNiNr+7WO+ni+nMit+FdjHbaQPIlgFgpBWaHumdj6pQNKf6HMpUH+sq8FY10WfjFNUyGCiMe9qGGn7B0MTp9jiTHEOqdkroFcCrCMt4N2sNgU4T2RHsC1Buo0AZqJMm81sDFD2aXfyxvwZkClvzF4S9ACo+ORQdVFDnF+EwNuWj5KQ+j1naq2aRbSufeSPLB2ORgyUg4otAFkuEkk9MLA0R/HI49ZvwMYY53VhOkP6o2PbQgKvgeImD9DKD4zwQmOKIYGcYE1WEd048PVZTCVEhRxtis0X2zczVsbS+cIzUAd1ALMfXFZXW6voAvsV+8Jh3s4GLLLcATt/uYO6gEWW16yn+eJTPyVSdYF/Y9bhiJq+PUmM/5ZvE9hvZP+IUDoAAAAASUVORK5CYII="},"89ad":function(e,t,o){},"8cff":function(e,t,o){"use strict";o("89ad")},"8dca":function(e,t,o){"use strict";o("6859")},"90d8":function(e,t,o){"use strict";var a=o("c65b"),n=o("1a2d"),i=o("3a9b"),s=o("ad6d"),r=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in r||n(e,"flags")||!i(r,e)?t:a(s,e)}},"911d":function(e,t,o){},"9ba8":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGFSURBVHgBtVNNUsIwFP5eysJxxQ2sJ7BwAty50xsQEWfqSrwB3EA3wgyI9QQeAVzpRu0R6g1g56Lk+RK0KIt2+PGbZtIkL1++vPcF2DKoKECfXZwoZepglQwH3auieC+XTIe+8ugZRDsyPKpUq9P3t9eXvD0qb5E8atveeHz4HV5GAVSeOiLUQRxhNiciNjHWJVyoQweGffs/U5xgHcLf6qJeL1HEgZ2P+v1ChaWMpBnWZOMlM5XB5GfqHMzE1u+0GY6WCYiRmBk6cnKSKdSNUCvQSKxRIympqLM5e7LqHF26GzHw4NaWmnxa0pMd5HxoT5Zlf9jv7mdjiRTf1VAA51PCo6G0YlOyyCHjA+uAeGK7Envl7MqbQMG4gqXpTjwfbwiGzTviKLqebIVQKPYMOEvXRoRat8oEDghmvBVClD6DOYmKlwmn0g6wIsS7x7b/KYiF86F7JWJsFteLDRJ5KYFYVhLOOU+N5LoImPnm/q7X+kNo0TgPtRBprAQaDwe3bfwnvgDTEolHBEoq4gAAAABJRU5ErkJggg=="},aae7:function(e,t,o){},ad08:function(e,t,o){},ad6d:function(e,t,o){"use strict";var a=o("825a");e.exports=function(){var e=a(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},b53c:function(e,t,o){"use strict";o("396c")},b5d1:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGfSURBVHgBvVSxUsJAEN29RGHGBjvL8AWQQuv8gX5CQIpYwR/IJ4SKOGEwfIH6BVI6Y0EsrQilHRbOBIe5c+9CAEcJihnfzCV7e3cvb293A5AzMDXshmMxFE0hsPTTwwLFbeBfddZ9miKrOzZDvCH+IwR8oVHFlY0ZwzHNE2M0erz7pLDWcO5p2ej73fJyTgf6va6VpbDecNpEccnnhcMgcKfSx1b6YQK/BAcYKkOPq6mPwV8wL4YJCc+HUIUpI0NWyYVQgjI9BI5WboQIPKSHYdutUi6EXGiRMvbejHXCVxoV2AVCKGW60JK38gG4VJCntfOLMaCI6GKqFMZTekaGg1rcJt/XjyZ7o57vDZcKgx5NUNSo9CeyoKlrIqk4vRdg8RkVfvO7bgEmBvygYKb8emr0fS+Q3Kkips/GTI9bNG0zBobas6VzJHDTwqKtmtRWZUYKgeE110U58LwIMrAxy3xedNUGUsn3kxZj72DBFmwkTJpddKRKiIvTxW4DdiVcV4nabKwclE3YAi1rMQwf4op5/MwQ6LeGA0qKC/+ND+1BiZpRsR3vAAAAAElFTkSuQmCC"},dbd5:function(e,t,o){"use strict";o("ad08")},dd63:function(e,t,o){"use strict";o("65c6")},df88:function(e,t,o){"use strict";o("aae7")},ecb2:function(e,t,o){}}]);